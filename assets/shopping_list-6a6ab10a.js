import"./main-7f48eebc.js";import{g as Zo,i as _i,a as er,_ as Zn,C as ei,r as cn,E as yi,b as ea,S as In,c as Pe,d as ta,L as tr,e as vi,f as De,F as nr,q as xi,h as na,j as b,k as ia,l as sa,m as ra,n as oa,s as le,o as bi,p as ze,t as aa,u as la,v as ca,w as mt,x as un,y as jt,z as wi,D as ki,A as ir,B as ua,G as da,H as as,I as Tn,J as ha,K as fa,M as pa}from"./checkSession-f45255fd.js";var Je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ma(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ti={},ga={get exports(){return ti},set exports(n){ti=n}};(function(n,e){(function(i,s){n.exports=s()})(window,function(){return function(t){var i={};function s(r){if(i[r])return i[r].exports;var o=i[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=t,s.c=i,s.d=function(r,o,a){s.o(r,o)||Object.defineProperty(r,o,{enumerable:!0,get:a})},s.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},s.t=function(r,o){if(o&1&&(r=s(r)),o&8||o&4&&typeof r=="object"&&r&&r.__esModule)return r;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),o&2&&typeof r!="string")for(var c in r)s.d(a,c,function(l){return r[l]}.bind(null,c));return a},s.n=function(r){var o=r&&r.__esModule?function(){return r.default}:function(){return r};return s.d(o,"a",o),o},s.o=function(r,o){return Object.prototype.hasOwnProperty.call(r,o)},s.p="dist",s(s.s=10)}([function(t,i,s){function r(o,a){var c=Object.prototype.hasOwnProperty,l,u,d,g;for(d=1,g=arguments.length;d<g;d+=1){l=arguments[d];for(u in l)c.call(l,u)&&(o[u]=l[u])}return o}t.exports=r},function(t,i,s){function r(o){return o===void 0}t.exports=r},function(t,i,s){function r(o){return o instanceof Array}t.exports=r},function(t,i,s){var r=s(2),o=s(17),a=s(6);function c(l,u,d){r(l)?o(l,u,d):a(l,u,d)}t.exports=c},function(t,i,s){function r(o){return typeof o=="string"||o instanceof String}t.exports=r},function(t,i,s){function r(o){return o instanceof Function}t.exports=r},function(t,i,s){function r(o,a,c){var l;c=c||null;for(l in o)if(o.hasOwnProperty(l)&&a.call(c,o[l],l,o)===!1)break}t.exports=r},function(t,i,s){var r=s(18),o=s(0);function a(c,l){var u;return l||(l=c,c=null),u=l.init||function(){},c&&r(u,c),l.hasOwnProperty("static")&&(o(u,l.static),delete l.static),o(u.prototype,l),u}t.exports=a},function(t,i,s){var r=s(2);function o(a,c,l){var u,d;if(l=l||0,!r(c))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(c,a,l);for(d=c.length,u=l;l>=0&&u<d;u+=1)if(c[u]===a)return u;return-1}t.exports=o},function(t,i,s){var r=s(29),o=s(30),a=s(5),c={capitalizeFirstLetter:function(l){return l.substring(0,1).toUpperCase()+l.substring(1,l.length)},isContained:function(l,u){return u?l===u?!0:u.contains(l):!1},createElementByTemplate:function(l,u){var d=document.createElement("div"),g=a(l)?l(u):r(l,u);return d.innerHTML=g,d.firstChild},bind:function(l,u){var d=Array.prototype.slice,g;return l.bind?l.bind.apply(l,d.call(arguments,1)):(g=d.call(arguments,2),function(){return l.apply(u,g.length?g.concat(d.call(arguments)):arguments)})},sendHostName:function(){o("pagination","UA-129987462-1")}};t.exports=c},function(t,i,s){s(11),t.exports=s(12)},function(t,i,s){},function(t,i,s){var r=s(13),o=s(7),a=s(0),c=s(1),l=s(20),u=s(9),d={totalItems:10,itemsPerPage:10,visiblePages:10,page:1,centerAlign:!1,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",usageStatistics:!0},g=o({init:function(p,f){this._options=a({},d,f),this._currentPage=0,this._view=new l(p,this._options,u.bind(this._onClickHandler,this)),this._paginate(),this._options.usageStatistics&&u.sendHostName()},_setCurrentPage:function(p){this._currentPage=p||this._options.page},_getLastPage:function(){var p=Math.ceil(this._options.totalItems/this._options.itemsPerPage);return p||1},_getPageIndex:function(p){var f,_;return this._options.centerAlign?(f=Math.floor(this._options.visiblePages/2),_=p-f,_=Math.max(_,1),_=Math.min(_,this._getLastPage()-this._options.visiblePages+1),_):Math.ceil(p/this._options.visiblePages)},_getRelativePage:function(p){var f=p==="prev",_=this.getCurrentPage();return f?_-1:_+1},_getMorePageIndex:function(p){var f=this._getPageIndex(this.getCurrentPage()),_=this._options.visiblePages,v=p==="prev",x;return this._options.centerAlign?x=v?f-1:f+_:x=v?(f-1)*_:f*_+1,x},_convertToValidPage:function(p){var f=this._getLastPage();return p=Math.max(p,1),p=Math.min(p,f),p},_paginate:function(p){var f=this._makeViewData(p||this._options.page);this._setCurrentPage(p),this._view.update(f)},_makeViewData:function(p){var f={},_=this._getLastPage(),v=this._getPageIndex(p),x=this._getPageIndex(_),T=this._getEdge(p);return f.leftPageNumber=T.left,f.rightPageNumber=T.right,f.prevMore=v>1,f.nextMore=v<x,f.page=p,f.currentPageIndex=p,f.lastPage=_,f.lastPageListIndex=_,f},_getEdge:function(p){var f,_,v,x=this._getLastPage(),T=this._options.visiblePages,D=this._getPageIndex(p);return this._options.centerAlign?(v=Math.floor(T/2),f=Math.max(p-v,1),_=f+T-1,_>x&&(f=Math.max(x-T+1,1),_=x)):(f=(D-1)*T+1,_=D*T,_=Math.min(_,x)),{left:f,right:_}},_onClickHandler:function(p,f){switch(p){case"first":f=1;break;case"prev":f=this._getRelativePage("prev");break;case"next":f=this._getRelativePage("next");break;case"prevMore":f=this._getMorePageIndex("prev");break;case"nextMore":f=this._getMorePageIndex("next");break;case"last":f=this._getLastPage();break;default:if(!f)return}this.movePageTo(f)},reset:function(p){c(p)&&(p=this._options.totalItems),this._options.totalItems=p,this._paginate(1)},movePageTo:function(p){p=this._convertToValidPage(p),this.invoke("beforeMove",{page:p})&&(this._paginate(p),this.fire("afterMove",{page:p}))},setTotalItems:function(p){this._options.totalItems=p},setItemsPerPage:function(p){this._options.itemsPerPage=p},getCurrentPage:function(){return this._currentPage||this._options.page}});r.mixin(g),t.exports=g},function(t,i,s){var r=s(0),o=s(14),a=s(4),c=s(16),l=s(2),u=s(5),d=s(3),g=/\s+/g;function p(){this.events=null,this.contexts=null}p.mixin=function(f){r(f.prototype,p.prototype)},p.prototype._getHandlerItem=function(f,_){var v={handler:f};return _&&(v.context=_),v},p.prototype._safeEvent=function(f){var _=this.events,v;return _||(_=this.events={}),f&&(v=_[f],v||(v=[],_[f]=v),_=v),_},p.prototype._safeContext=function(){var f=this.contexts;return f||(f=this.contexts=[]),f},p.prototype._indexOfContext=function(f){for(var _=this._safeContext(),v=0;_[v];){if(f===_[v][0])return v;v+=1}return-1},p.prototype._memorizeContext=function(f){var _,v;o(f)&&(_=this._safeContext(),v=this._indexOfContext(f),v>-1?_[v][1]+=1:_.push([f,1]))},p.prototype._forgetContext=function(f){var _,v;o(f)&&(_=this._safeContext(),v=this._indexOfContext(f),v>-1&&(_[v][1]-=1,_[v][1]<=0&&_.splice(v,1)))},p.prototype._bindEvent=function(f,_,v){var x=this._safeEvent(f);this._memorizeContext(v),x.push(this._getHandlerItem(_,v))},p.prototype.on=function(f,_,v){var x=this;a(f)?(f=f.split(g),d(f,function(T){x._bindEvent(T,_,v)})):c(f)&&(v=_,d(f,function(T,D){x.on(D,T,v)}))},p.prototype.once=function(f,_,v){var x=this;if(c(f)){v=_,d(f,function(D,w){x.once(w,D,v)});return}function T(){_.apply(v,arguments),x.off(f,T,v)}this.on(f,T,v)},p.prototype._spliceMatches=function(f,_){var v=0,x;if(l(f))for(x=f.length;v<x;v+=1)_(f[v])===!0&&(f.splice(v,1),x-=1,v-=1)},p.prototype._matchHandler=function(f){var _=this;return function(v){var x=f===v.handler;return x&&_._forgetContext(v.context),x}},p.prototype._matchContext=function(f){var _=this;return function(v){var x=f===v.context;return x&&_._forgetContext(v.context),x}},p.prototype._matchHandlerAndContext=function(f,_){var v=this;return function(x){var T=f===x.handler,D=_===x.context,w=T&&D;return w&&v._forgetContext(x.context),w}},p.prototype._offByEventName=function(f,_){var v=this,x=u(_),T=v._matchHandler(_);f=f.split(g),d(f,function(D){var w=v._safeEvent(D);x?v._spliceMatches(w,T):(d(w,function(C){v._forgetContext(C.context)}),v.events[D]=[])})},p.prototype._offByHandler=function(f){var _=this,v=this._matchHandler(f);d(this._safeEvent(),function(x){_._spliceMatches(x,v)})},p.prototype._offByObject=function(f,_){var v=this,x;this._indexOfContext(f)<0?d(f,function(T,D){v.off(D,T)}):a(_)?(x=this._matchContext(f),v._spliceMatches(this._safeEvent(_),x)):u(_)?(x=this._matchHandlerAndContext(_,f),d(this._safeEvent(),function(T){v._spliceMatches(T,x)})):(x=this._matchContext(f),d(this._safeEvent(),function(T){v._spliceMatches(T,x)}))},p.prototype.off=function(f,_){a(f)?this._offByEventName(f,_):arguments.length?u(f)?this._offByHandler(f):c(f)&&this._offByObject(f,_):(this.events={},this.contexts=[])},p.prototype.fire=function(f){this.invoke.apply(this,arguments)},p.prototype.invoke=function(f){var _,v,x,T;if(!this.hasListener(f))return!0;for(_=this._safeEvent(f),v=Array.prototype.slice.call(arguments,1),x=0;_[x];){if(T=_[x],T.handler.apply(T.context,v)===!1)return!1;x+=1}return!0},p.prototype.hasListener=function(f){return this.getListenerLength(f)>0},p.prototype.getListenerLength=function(f){var _=this._safeEvent(f);return _.length},t.exports=p},function(t,i,s){var r=s(1),o=s(15);function a(c){return!r(c)&&!o(c)}t.exports=a},function(t,i,s){function r(o){return o===null}t.exports=r},function(t,i,s){function r(o){return o===Object(o)}t.exports=r},function(t,i,s){function r(o,a,c){var l=0,u=o.length;for(c=c||null;l<u&&a.call(c,o[l],l,o)!==!1;l+=1);}t.exports=r},function(t,i,s){var r=s(19);function o(a,c){var l=r(c.prototype);l.constructor=a,a.prototype=l}t.exports=o},function(t,i,s){function r(o){function a(){}return a.prototype=o,new a}t.exports=r},function(t,i,s){var r=s(3),o=s(7),a=s(21),c=s(22),l=s(24),u=s(25),d=s(0),g=s(4),p=s(28),f=s(9),_={page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'},v=["first","prev","next","last"],x=["prev","next"],T="The container element is invalid.",D=o({init:function(w,C,S){this._containerElement=null,this._firstItemClassName=C.firstItemClassName,this._lastItemClassName=C.lastItemClassName,this._template=d({},_,C.template),this._buttons={},this._enabledPageElements=[],this._setRootElement(w),this._setMoveButtons(),this._setDisabledMoveButtons(),this._setMoreButtons(),this._attachClickEvent(S)},_setRootElement:function(w){if(g(w)?w=document.getElementById(w)||document.querySelector(w):w.jquery&&(w=w[0]),!p(w))throw new Error(T);this._containerElement=w},_setMoveButtons:function(){r(v,function(w){this._buttons[w]=f.createElementByTemplate(this._template.moveButton,{type:w})},this)},_setDisabledMoveButtons:function(){r(v,function(w){var C="disabled"+f.capitalizeFirstLetter(w);this._buttons[C]=f.createElementByTemplate(this._template.disabledMoveButton,{type:w})},this)},_setMoreButtons:function(){r(x,function(w){var C=w+"More";this._buttons[C]=f.createElementByTemplate(this._template.moreButton,{type:w})},this)},_getContainerElement:function(){return this._containerElement},_appendFirstButton:function(w){var C;w.page>1?C=this._buttons.first:C=this._buttons.disabledFirst,this._getContainerElement().appendChild(C)},_appendPrevButton:function(w){var C;w.currentPageIndex>1?C=this._buttons.prev:C=this._buttons.disabledPrev,this._getContainerElement().appendChild(C)},_appendNextButton:function(w){var C;w.currentPageIndex<w.lastPageListIndex?C=this._buttons.next:C=this._buttons.disabledNext,this._getContainerElement().appendChild(C)},_appendLastButton:function(w){var C;w.page<w.lastPage?C=this._buttons.last:C=this._buttons.disabledLast,this._getContainerElement().appendChild(C)},_appendPrevMoreButton:function(w){var C;w.prevMore&&(C=this._buttons.prevMore,u(C,this._firstItemClassName),this._getContainerElement().appendChild(C))},_appendNextMoreButton:function(w){var C;w.nextMore&&(C=this._buttons.nextMore,u(C,this._lastItemClassName),this._getContainerElement().appendChild(C))},_appendPages:function(w){var C=w.leftPageNumber,S=w.rightPageNumber,E,z;for(z=C;z<=S;z+=1)z===w.page?E=f.createElementByTemplate(this._template.currentPage,{page:z}):(E=f.createElementByTemplate(this._template.page,{page:z}),this._enabledPageElements.push(E)),z===C&&!w.prevMore&&u(E,this._firstItemClassName),z===S&&!w.nextMore&&u(E,this._lastItemClassName),this._getContainerElement().appendChild(E)},_attachClickEvent:function(w){var C=this._getContainerElement();c(C,"click",function(S){var E=a(S),z,xe;l(S),xe=this._getButtonType(E),xe||(z=this._getPageNumber(E)),w(xe,z)},this)},_getButtonType:function(w){var C,S=this._buttons;return r(S,function(E,z){return f.isContained(w,E)?(C=z,!1):!0},this),C},_getPageNumber:function(w){var C=this._findPageElement(w),S;return C&&(S=parseInt(C.innerText,10)),S},_findPageElement:function(w){for(var C=0,S=this._enabledPageElements.length,E;C<S;C+=1)if(E=this._enabledPageElements[C],f.isContained(w,E))return E;return null},_empty:function(){this._enabledPageElements=[],r(this._buttons,function(w,C){this._buttons[C]=w.cloneNode(!0)},this),this._getContainerElement().innerHTML=""},update:function(w){this._empty(),this._appendFirstButton(w),this._appendPrevButton(w),this._appendPrevMoreButton(w),this._appendPages(w),this._appendNextMoreButton(w),this._appendNextButton(w),this._appendLastButton(w)}});t.exports=D},function(t,i,s){function r(o){return o.target||o.srcElement}t.exports=r},function(t,i,s){var r=s(4),o=s(3),a=s(23);function c(d,g,p,f){if(r(g)){o(g.split(/\s+/g),function(_){l(d,_,p,f)});return}o(g,function(_,v){l(d,v,_,p)})}function l(d,g,p,f){function _(v){p.call(f||d,v||window.event)}"addEventListener"in d?d.addEventListener(g,_):"attachEvent"in d&&d.attachEvent("on"+g,_),u(d,g,p,_)}function u(d,g,p,f){var _=a(d,g),v=!1;o(_,function(x){return x.handler===p?(v=!0,!1):!0}),v||_.push({handler:p,wrappedHandler:f})}t.exports=c},function(t,i,s){var r="_feEventKey";function o(a,c){var l=a[r],u;return l||(l=a[r]={}),u=l[c],u||(u=l[c]=[]),u}t.exports=o},function(t,i,s){function r(o){if(o.preventDefault){o.preventDefault();return}o.returnValue=!1}t.exports=r},function(t,i,s){var r=s(3),o=s(8),a=s(26),c=s(27);function l(u){var d=Array.prototype.slice.call(arguments,1),g=u.classList,p=[],f;if(g){r(d,function(_){u.classList.add(_)});return}f=a(u),f&&(d=[].concat(f.split(/\s+/),d)),r(d,function(_){o(_,p)<0&&p.push(_)}),c(u,p)}t.exports=l},function(t,i,s){var r=s(1);function o(a){return!a||!a.className?"":r(a.className.baseVal)?a.className:a.className.baseVal}t.exports=o},function(t,i,s){var r=s(2),o=s(1);function a(c,l){if(l=r(l)?l.join(" "):l,l=l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),o(c.className.baseVal)){c.className=l;return}c.className.baseVal=l}t.exports=a},function(t,i,s){function r(o){return typeof HTMLElement=="object"?o&&(o instanceof HTMLElement||!!o.nodeType):!!(o&&o.nodeType)}t.exports=r},function(t,i,s){var r=s(8),o=s(3),a=s(2),c=s(4),l=s(0),u=/{{\s?|\s?}}/g,d=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,g=/\[\s?|\s?\]/,p=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,f=/\./,_=/^["']\w+["']$/,v=/"|'/g,x=/^-?\d+\.?\d*$/,T=2,D={if:z,each:xe,with:wt},w="a".split(/a/).length===3,C=function(){return w?function(N,M){return N.split(M)}:function(N,M){var L=[],W=0,X,Y;for(M.global||(M=new RegExp(M,"g")),X=M.exec(N);X!==null;)Y=X.index,L.push(N.slice(W,Y)),W=Y+X[0].length,X=M.exec(N);return L.push(N.slice(W)),L}}();function S(N,M){var L,W=M[N];return N==="true"?W=!0:N==="false"?W=!1:_.test(N)?W=N.replace(v,""):d.test(N)?(L=N.split(g),W=S(L[0],M)[S(L[1],M)]):p.test(N)?(L=N.split(f),W=S(L[0],M)[L[1]]):x.test(N)&&(W=parseFloat(N)),W}function E(N,M){var L=[N],W=[],X=0,Y=0;return o(M,function(ne,fe){ne.indexOf("if")===0?X+=1:ne==="/if"?X-=1:!X&&(ne.indexOf("elseif")===0||ne==="else")&&(L.push(ne==="else"?["true"]:ne.split(" ").slice(1)),W.push(M.slice(Y,fe)),Y=fe+1)}),W.push(M.slice(Y)),{exps:L,sourcesInsideIf:W}}function z(N,M,L){var W=E(N,M),X=!1,Y="";return o(W.exps,function(ne,fe){return X=qe(ne,L),X&&(Y=Ye(W.sourcesInsideIf[fe],L)),!X}),Y}function xe(N,M,L){var W=qe(N,L),X=a(W)?"@index":"@key",Y={},ne="";return o(W,function(fe,Ue){Y[X]=Ue,Y["@this"]=fe,l(L,Y),ne+=Ye(M.slice(),L)}),ne}function wt(N,M,L){var W=r("as",N),X=N[W+1],Y=qe(N.slice(0,W),L),ne={};return ne[X]=Y,Ye(M,l(L,ne))||""}function zn(N,M,L){var W=N.splice(M+1,L-M);return W.pop(),W}function Wn(N,M,L){for(var W=D[N],X=1,Y=0,ne,fe=Y+T,Ue=M[fe];X&&c(Ue);)Ue.indexOf(N)===0?X+=1:Ue.indexOf("/"+N)===0&&(X-=1,ne=fe),fe+=T,Ue=M[fe];if(X)throw Error(N+" needs {{/"+N+"}} expression.");return M[Y]=W(M[Y].split(" ").slice(1),zn(M,Y,ne),L),M}function qe(N,M){var L=S(N[0],M);return L instanceof Function?tn(L,N.slice(1),M):L}function tn(N,M,L){var W=[];return o(M,function(X){W.push(S(X,L))}),N.apply(null,W)}function Ye(N,M){for(var L=1,W=N[L],X,Y,ne;c(W);)X=W.split(" "),Y=X[0],D[Y]?(ne=Wn(Y,N.splice(L,N.length-L),M),N=N.concat(ne)):N[L]=qe(X,M),L+=T,W=N[L];return N.join("")}function nn(N,M){return Ye(C(N,u),M)}t.exports=nn},function(t,i,s){var r=s(1),o=s(31),a=7*24*60*60*1e3;function c(u){var d=new Date().getTime();return d-u>a}function l(u,d){var g="https://www.google-analytics.com/collect",p=location.hostname,f="event",_="use",v="TOAST UI "+u+" for "+p+": Statistics",x=window.localStorage.getItem(v);!r(window.tui)&&window.tui.usageStatistics===!1||x&&!c(x)||(window.localStorage.setItem(v,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&o(g,{v:1,t:f,tid:d,cid:p,dp:p,dh:u,el:u,ec:_})},1e3))}t.exports=l},function(t,i,s){var r=s(6);function o(a,c){var l=document.createElement("img"),u="";return r(c,function(d,g){u+="&"+g+"="+d}),u=u.substring(1),l.src=a+"?"+u,l.style.display="none",document.body.appendChild(l),document.body.removeChild(l),l}t.exports=o}])})})(ga);const _a=ma(ti);var ya="Expected a function",ls=0/0,va="[object Symbol]",xa=/^\s+|\s+$/g,ba=/^[-+]0x[0-9a-f]+$/i,wa=/^0b[01]+$/i,ka=/^0o[0-7]+$/i,Ca=parseInt,Ea=typeof Je=="object"&&Je&&Je.Object===Object&&Je,Na=typeof self=="object"&&self&&self.Object===Object&&self,Ia=Ea||Na||Function("return this")(),Ta=Object.prototype,Sa=Ta.toString,Ra=Math.max,Aa=Math.min,Vn=function(){return Ia.Date.now()};function Pa(n,e,t){var i,s,r,o,a,c,l=0,u=!1,d=!1,g=!0;if(typeof n!="function")throw new TypeError(ya);e=cs(e)||0,ni(t)&&(u=!!t.leading,d="maxWait"in t,r=d?Ra(cs(t.maxWait)||0,e):r,g="trailing"in t?!!t.trailing:g);function p(S){var E=i,z=s;return i=s=void 0,l=S,o=n.apply(z,E),o}function f(S){return l=S,a=setTimeout(x,e),u?p(S):o}function _(S){var E=S-c,z=S-l,xe=e-E;return d?Aa(xe,r-z):xe}function v(S){var E=S-c,z=S-l;return c===void 0||E>=e||E<0||d&&z>=r}function x(){var S=Vn();if(v(S))return T(S);a=setTimeout(x,_(S))}function T(S){return a=void 0,g&&i?p(S):(i=s=void 0,o)}function D(){a!==void 0&&clearTimeout(a),l=0,i=c=s=a=void 0}function w(){return a===void 0?o:T(Vn())}function C(){var S=Vn(),E=v(S);if(i=arguments,s=this,c=S,E){if(a===void 0)return f(c);if(d)return a=setTimeout(x,e),p(c)}return a===void 0&&(a=setTimeout(x,e)),o}return C.cancel=D,C.flush=w,C}function ni(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function Ma(n){return!!n&&typeof n=="object"}function La(n){return typeof n=="symbol"||Ma(n)&&Sa.call(n)==va}function cs(n){if(typeof n=="number")return n;if(La(n))return ls;if(ni(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=ni(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(xa,"");var t=wa.test(n);return t||ka.test(n)?Ca(n.slice(2),t?2:8):ba.test(n)?ls:+n}var Oa=Pa,ii={},Da={get exports(){return ii},set exports(n){ii=n}};(function(n){(function(e,t){n.exports=t(e)})(typeof Je>"u"?typeof window>"u"?Je:window:Je,function(e){if(typeof e>"u"&&typeof e.document>"u")return!1;var t,i,s,r,o,a=`

Visit documentation page to learn more: https://notiflix.github.io/documentation`,c='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif',l={Success:"Success",Failure:"Failure",Warning:"Warning",Info:"Info"},u={wrapID:"NotiflixNotifyWrap",overlayID:"NotiflixNotifyOverlay",width:"280px",position:"right-top",distance:"10px",opacity:1,borderRadius:"5px",rtl:!1,timeout:3e3,messageMaxLength:110,backOverlay:!1,backOverlayColor:"rgba(0,0,0,0.5)",plainText:!0,showOnlyTheLastOne:!1,clickToClose:!1,pauseOnHover:!0,ID:"NotiflixNotify",className:"notiflix-notify",zindex:4001,fontFamily:"Quicksand",fontSize:"13px",cssAnimation:!0,cssAnimationDuration:400,cssAnimationStyle:"fade",closeButton:!1,useIcon:!0,useFontAwesome:!1,fontAwesomeIconStyle:"basic",fontAwesomeIconSize:"34px",success:{background:"#32c682",textColor:"#fff",childClassName:"notiflix-notify-success",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-check-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{background:"#ff5549",textColor:"#fff",childClassName:"notiflix-notify-failure",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-times-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{background:"#eebf31",textColor:"#fff",childClassName:"notiflix-notify-warning",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-exclamation-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(238,191,49,0.2)"},info:{background:"#26c0d3",textColor:"#fff",childClassName:"notiflix-notify-info",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-info-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(38,192,211,0.2)"}},d={Success:"Success",Failure:"Failure",Warning:"Warning",Info:"Info"},g={ID:"NotiflixReportWrap",className:"notiflix-report",width:"320px",backgroundColor:"#f8f8f8",borderRadius:"25px",rtl:!1,zindex:4002,backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",backOverlayClickToClose:!1,fontFamily:"Quicksand",svgSize:"110px",plainText:!0,titleFontSize:"16px",titleMaxLength:34,messageFontSize:"13px",messageMaxLength:400,buttonFontSize:"14px",buttonMaxLength:34,cssAnimation:!0,cssAnimationDuration:360,cssAnimationStyle:"fade",success:{svgColor:"#32c682",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#32c682",buttonColor:"#fff",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{svgColor:"#ff5549",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#ff5549",buttonColor:"#fff",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{svgColor:"#eebf31",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#eebf31",buttonColor:"#fff",backOverlayColor:"rgba(238,191,49,0.2)"},info:{svgColor:"#26c0d3",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#26c0d3",buttonColor:"#fff",backOverlayColor:"rgba(38,192,211,0.2)"}},p={Show:"Show",Ask:"Ask",Prompt:"Prompt"},f={ID:"NotiflixConfirmWrap",className:"notiflix-confirm",width:"300px",zindex:4003,position:"center",distance:"10px",backgroundColor:"#f8f8f8",borderRadius:"25px",backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,cssAnimationStyle:"fade",plainText:!0,titleColor:"#32c682",titleFontSize:"16px",titleMaxLength:34,messageColor:"#1e1e1e",messageFontSize:"14px",messageMaxLength:110,buttonsFontSize:"15px",buttonsMaxLength:34,okButtonColor:"#f8f8f8",okButtonBackground:"#32c682",cancelButtonColor:"#f8f8f8",cancelButtonBackground:"#a9a9a9"},_={Standard:"Standard",Hourglass:"Hourglass",Circle:"Circle",Arrows:"Arrows",Dots:"Dots",Pulse:"Pulse",Custom:"Custom",Notiflix:"Notiflix"},v={ID:"NotiflixLoadingWrap",className:"notiflix-loading",zindex:4e3,backgroundColor:"rgba(0,0,0,0.8)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:400,clickToClose:!1,customSvgUrl:null,customSvgCode:null,svgSize:"80px",svgColor:"#32c682",messageID:"NotiflixLoadingMessage",messageFontSize:"15px",messageMaxLength:34,messageColor:"#dcdcdc"},x={Standard:"Standard",Hourglass:"Hourglass",Circle:"Circle",Arrows:"Arrows",Dots:"Dots",Pulse:"Pulse"},T={ID:"NotiflixBlockWrap",querySelectorLimit:200,className:"notiflix-block",position:"absolute",zindex:1e3,backgroundColor:"rgba(255,255,255,0.9)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,svgSize:"45px",svgColor:"#383838",messageFontSize:"14px",messageMaxLength:34,messageColor:"#383838"},D=function(h){return console.error("%c Notiflix Error ","padding:2px;border-radius:20px;color:#fff;background:#ff5549",`
`+h+a)},w=function(h){return console.log("%c Notiflix Info ","padding:2px;border-radius:20px;color:#fff;background:#26c0d3",`
`+h+a)},C=function(h){return h||(h="head"),e.document[h]!==null||(D(`
Notiflix needs to be appended to the "<`+h+'>" element, but you called it before the "<'+h+'>" element has been created.'),!1)},S=function(h,m){if(!C("head"))return!1;if(h()!==null&&!e.document.getElementById(m)){var y=e.document.createElement("style");y.id=m,y.innerHTML=h(),e.document.head.appendChild(y)}},E=function(){var h={},m=!1,y=0;Object.prototype.toString.call(arguments[0])==="[object Boolean]"&&(m=arguments[0],y++);for(var I=function(P){for(var U in P)Object.prototype.hasOwnProperty.call(P,U)&&(h[U]=m&&Object.prototype.toString.call(P[U])==="[object Object]"?E(h[U],P[U]):P[U])};y<arguments.length;y++)I(arguments[y]);return h},z=function(h){var m=e.document.createElement("div");return m.innerHTML=h,m.textContent||m.innerText||""},xe=function(h,m){h||(h="110px"),m||(m="#32c682");var y='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportSuccess" width="'+h+'" height="'+h+'" fill="'+m+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@-webkit-keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportSuccess *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportSuccess2-animation;animation-name:NXReportSuccess2-animation;-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)"><path d="M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z" style="-webkit-animation-name:NXReportSuccess3-animation;animation-name:NXReportSuccess3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportSuccess1-animation;animation-name:NXReportSuccess1-animation;-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)"><path d="M88.27 35.39L52.8 75.29 31.43 58.2c-.98-.81-2.44-.63-3.24.36-.79.99-.63 2.44.36 3.24l23.08 18.46c.43.34.93.51 1.44.51.64 0 1.27-.26 1.74-.78l36.91-41.53a2.3 2.3 0 0 0-.19-3.26c-.95-.86-2.41-.77-3.26.19z" style="-webkit-animation-name:NXReportSuccess4-animation;animation-name:NXReportSuccess4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return y},wt=function(h,m){h||(h="110px"),m||(m="#ff5549");var y='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportFailure" width="'+h+'" height="'+h+'" fill="'+m+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportFailure *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportFailure1-animation;animation-name:NXReportFailure1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M4.35 34.95c0-16.82 13.78-30.6 30.6-30.6h50.1c16.82 0 30.6 13.78 30.6 30.6v50.1c0 16.82-13.78 30.6-30.6 30.6h-50.1c-16.82 0-30.6-13.78-30.6-30.6v-50.1zM34.95 120h50.1c19.22 0 34.95-15.73 34.95-34.95v-50.1C120 15.73 104.27 0 85.05 0h-50.1C15.73 0 0 15.73 0 34.95v50.1C0 104.27 15.73 120 34.95 120z" style="-webkit-animation-name:NXReportFailure2-animation;animation-name:NXReportFailure2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportFailure3-animation;animation-name:NXReportFailure3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M82.4 37.6c-.9-.9-2.37-.9-3.27 0L60 56.73 40.86 37.6a2.306 2.306 0 0 0-3.26 3.26L56.73 60 37.6 79.13c-.9.9-.9 2.37 0 3.27.45.45 1.04.68 1.63.68.59 0 1.18-.23 1.63-.68L60 63.26 79.13 82.4c.45.45 1.05.68 1.64.68.58 0 1.18-.23 1.63-.68.9-.9.9-2.37 0-3.27L63.26 60 82.4 40.86c.9-.91.9-2.36 0-3.26z" style="-webkit-animation-name:NXReportFailure4-animation;animation-name:NXReportFailure4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return y},zn=function(h,m){h||(h="110px"),m||(m="#eebf31");var y='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportWarning" width="'+h+'" height="'+h+'" fill="'+m+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@-webkit-keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportWarning *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportWarning1-animation;animation-name:NXReportWarning1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M115.46 106.15l-54.04-93.8c-.61-1.06-2.23-1.06-2.84 0l-54.04 93.8c-.62 1.07.21 2.29 1.42 2.29h108.08c1.21 0 2.04-1.22 1.42-2.29zM65.17 10.2l54.04 93.8c2.28 3.96-.65 8.78-5.17 8.78H5.96c-4.52 0-7.45-4.82-5.17-8.78l54.04-93.8c2.28-3.95 8.03-4 10.34 0z" style="-webkit-animation-name:NXReportWarning2-animation;animation-name:NXReportWarning2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportWarning3-animation;animation-name:NXReportWarning3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)"><path d="M57.83 94.01c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17v-3.2c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v3.2zm0-14.15c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17V39.21c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v40.65z" style="-webkit-animation-name:NXReportWarning4-animation;animation-name:NXReportWarning4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return y},Wn=function(h,m){h||(h="110px"),m||(m="#26c0d3");var y='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportInfo" width="'+h+'" height="'+h+'" fill="'+m+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportInfo *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportInfo1-animation;animation-name:NXReportInfo1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z" style="-webkit-animation-name:NXReportInfo2-animation;animation-name:NXReportInfo2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportInfo3-animation;animation-name:NXReportInfo3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M57.75 43.85c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v48.18c0 1.24-1.01 2.25-2.25 2.25s-2.25-1.01-2.25-2.25V43.85zm0-15.88c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v3.32c0 1.25-1.01 2.25-2.25 2.25s-2.25-1-2.25-2.25v-3.32z" style="-webkit-animation-name:NXReportInfo4-animation;animation-name:NXReportInfo4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return y},qe=function(h,m){h||(h="60px"),m||(m="#32c682");var y='<svg xmlns="http://www.w3.org/2000/svg" stroke="'+m+'" width="'+h+'" height="'+h+'" transform="scale(.8)" viewBox="0 0 38 38"><g fill="none" fill-rule="evenodd" stroke-width="2" transform="translate(1 1)"><circle cx="18" cy="18" r="18" stroke-opacity=".25"/><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" dur="1s" from="0 18 18" repeatCount="indefinite" to="360 18 18" type="rotate"/></path></g></svg>';return y},tn=function(h,m){h||(h="60px"),m||(m="#32c682");var y='<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingHourglass" fill="'+m+'" width="'+h+'" height="'+h+'" viewBox="0 0 200 200"><style>@-webkit-keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@-webkit-keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@-webkit-keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}@keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}#NXLoadingHourglass *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g data-animator-group="true" data-animator-type="1" style="-webkit-animation-name:NXhourglass1-animation;animation-name:NXhourglass1-animation;-webkit-transform-origin:50% 50%;transform-origin:50% 50%;transform-box:fill-box"><g id="NXhourglass2" fill="inherit"><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass3-animation;animation-name:NXhourglass3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass4" d="M100 100l-34.38 32.08v31.14h68.76v-31.14z"/></g><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass5-animation;animation-name:NXhourglass5-animation;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass6" d="M100 100L65.62 67.92V36.78h68.76v31.14z"/></g><path d="M51.14 38.89h8.33v14.93c0 15.1 8.29 28.99 23.34 39.1 1.88 1.25 3.04 3.97 3.04 7.08s-1.16 5.83-3.04 7.09c-15.05 10.1-23.34 23.99-23.34 39.09v14.93h-8.33a4.859 4.859 0 1 0 0 9.72h97.72a4.859 4.859 0 1 0 0-9.72h-8.33v-14.93c0-15.1-8.29-28.99-23.34-39.09-1.88-1.26-3.04-3.98-3.04-7.09s1.16-5.83 3.04-7.08c15.05-10.11 23.34-24 23.34-39.1V38.89h8.33a4.859 4.859 0 1 0 0-9.72H51.14a4.859 4.859 0 1 0 0 9.72zm79.67 14.93c0 15.87-11.93 26.25-19.04 31.03-4.6 3.08-7.34 8.75-7.34 15.15 0 6.41 2.74 12.07 7.34 15.15 7.11 4.78 19.04 15.16 19.04 31.03v14.93H69.19v-14.93c0-15.87 11.93-26.25 19.04-31.02 4.6-3.09 7.34-8.75 7.34-15.16 0-6.4-2.74-12.07-7.34-15.15-7.11-4.78-19.04-15.16-19.04-31.03V38.89h61.62v14.93z"/></g></g></svg>';return y},Ye=function(h,m){h||(h="60px"),m||(m="#32c682");var y='<svg xmlns="http://www.w3.org/2000/svg" width="'+h+'" height="'+h+'" viewBox="25 25 50 50" style="-webkit-animation:rotate 2s linear infinite;animation:rotate 2s linear infinite;height:'+h+";-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:"+h+';position:absolute;top:0;left:0;margin:auto"><style>@-webkit-keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}</style><circle cx="50" cy="50" r="20" fill="none" stroke="'+m+'" stroke-width="2" style="-webkit-animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite;animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite" stroke-dasharray="150 200" stroke-dashoffset="-10" stroke-linecap="round"/></svg>';return y},nn=function(h,m){h||(h="60px"),m||(m="#32c682");var y='<svg xmlns="http://www.w3.org/2000/svg" fill="'+m+'" width="'+h+'" height="'+h+'" viewBox="0 0 128 128"><g><path fill="inherit" d="M109.25 55.5h-36l12-12a29.54 29.54 0 0 0-49.53 12H18.75A46.04 46.04 0 0 1 96.9 31.84l12.35-12.34v36zm-90.5 17h36l-12 12a29.54 29.54 0 0 0 49.53-12h16.97A46.04 46.04 0 0 1 31.1 96.16L18.74 108.5v-36z"/><animateTransform attributeName="transform" dur="1.5s" from="0 64 64" repeatCount="indefinite" to="360 64 64" type="rotate"/></g></svg>';return y},N=function(h,m){h||(h="60px"),m||(m="#32c682");var y='<svg xmlns="http://www.w3.org/2000/svg" fill="'+m+'" width="'+h+'" height="'+h+'" viewBox="0 0 100 100"><g transform="translate(25 50)"><circle r="9" fill="inherit" transform="scale(.239)"><animateTransform attributeName="transform" begin="-0.266s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(50 50)"><circle r="9" fill="inherit" transform="scale(.00152)"><animateTransform attributeName="transform" begin="-0.133s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(75 50)"><circle r="9" fill="inherit" transform="scale(.299)"><animateTransform attributeName="transform" begin="0s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g></svg>';return y},M=function(h,m){h||(h="60px"),m||(m="#32c682");var y='<svg xmlns="http://www.w3.org/2000/svg" stroke="'+m+'" width="'+h+'" height="'+h+'" viewBox="0 0 44 44"><g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle></g></svg>';return y},L=function(h,m,y){h||(h="60px"),m||(m="#f8f8f8"),y||(y="#32c682");var I='<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingNotiflixLib" width="'+h+'" height="'+h+'" viewBox="0 0 200 200"><defs><style>@keyframes notiflix-n{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-x{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-dot{0%,to{stroke-width:0}50%{stroke-width:12}}.nx-icon-line{stroke:'+m+';stroke-width:12;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:22;fill:none}</style></defs><path d="M47.97 135.05a6.5 6.5 0 1 1 0 13 6.5 6.5 0 0 1 0-13z" style="animation-name:notiflix-dot;animation-timing-function:ease-in-out;animation-duration:1.25s;animation-iteration-count:infinite;animation-direction:normal" fill="'+y+'" stroke="'+y+'" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="22" stroke-width="12"/><path class="nx-icon-line" d="M10.14 144.76V87.55c0-5.68-4.54-41.36 37.83-41.36 42.36 0 37.82 35.68 37.82 41.36v57.21" style="animation-name:notiflix-n;animation-timing-function:linear;animation-duration:2.5s;animation-delay:0s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/><path class="nx-icon-line" d="M115.06 144.49c24.98-32.68 49.96-65.35 74.94-98.03M114.89 46.6c25.09 32.58 50.19 65.17 75.29 97.75" style="animation-name:notiflix-x;animation-timing-function:linear;animation-duration:2.5s;animation-delay:.2s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/></svg>';return I},W=function(){return'[id^=NotiflixNotifyWrap]{pointer-events:none;position:fixed;z-index:4001;opacity:1;right:10px;top:10px;width:280px;max-width:96%;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent}[id^=NotiflixNotifyWrap].nx-flex-center-center{max-height:calc(100vh - 20px);overflow-x:hidden;overflow-y:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin:auto}[id^=NotiflixNotifyWrap]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixNotifyWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyOverlay]{-webkit-transition:background .3s ease-in-out;-o-transition:background .3s ease-in-out;transition:background .3s ease-in-out}[id^=NotiflixNotifyWrap]>div{pointer-events:all;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;width:100%;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative;margin:0 0 10px;border-radius:5px;background:#1e1e1e;color:#fff;padding:10px 12px;font-size:14px;line-height:1.4}[id^=NotiflixNotifyWrap]>div:last-child{margin:0}[id^=NotiflixNotifyWrap]>div.nx-with-callback{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-icon{padding:8px;min-height:56px}[id^=NotiflixNotifyWrap]>div.nx-paused{cursor:auto}[id^=NotiflixNotifyWrap]>div.nx-notify-click-to-close{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-close-button{padding:10px 36px 10px 12px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button{padding:6px 36px 6px 6px}[id^=NotiflixNotifyWrap]>div>span.nx-message{cursor:inherit;font-weight:normal;font-family:inherit!important;word-break:break-all;word-break:break-word}[id^=NotiflixNotifyWrap]>div>span.nx-close-button{cursor:pointer;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;position:absolute;right:8px;top:0;bottom:0;margin:auto;color:inherit;width:20px;height:20px}[id^=NotiflixNotifyWrap]>div>span.nx-close-button:hover{-webkit-transform:rotate(90deg);transform:rotate(90deg)}[id^=NotiflixNotifyWrap]>div>span.nx-close-button>svg{position:absolute;width:16px;height:16px;right:2px;top:2px}[id^=NotiflixNotifyWrap]>div>.nx-message-icon{position:absolute;width:40px;height:40px;font-size:30px;line-height:40px;text-align:center;left:8px;top:0;bottom:0;margin:auto;border-radius:inherit}[id^=NotiflixNotifyWrap]>div>.nx-message-icon-fa.nx-message-icon-fa-shadow{color:inherit;background:rgba(0,0,0,.15);-webkit-box-shadow:inset 0 0 34px rgba(0,0,0,.2);box-shadow:inset 0 0 34px rgba(0,0,0,.2);text-shadow:0 0 10px rgba(0,0,0,.3)}[id^=NotiflixNotifyWrap]>div>span.nx-with-icon{position:relative;float:left;width:calc(100% - 40px);margin:0 0 0 40px;padding:0 0 0 10px;-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>.nx-message-icon{left:auto;right:8px}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-with-icon{padding:0 10px 0 0;margin:0 40px 0 0}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-close-button{right:auto;left:8px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button.nx-rtl-on{padding:6px 6px 6px 36px}[id^=NotiflixNotifyWrap]>div.nx-with-close-button.nx-rtl-on{padding:10px 12px 10px 36px}[id^=NotiflixNotifyOverlay].nx-with-animation,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade{-webkit-animation:notify-animation-fade .3s ease-in-out 0s normal;animation:notify-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom{-webkit-animation:notify-animation-zoom .3s ease-in-out 0s normal;animation:notify-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right{-webkit-animation:notify-animation-from-right .3s ease-in-out 0s normal;animation:notify-animation-from-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}@keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left{-webkit-animation:notify-animation-from-left .3s ease-in-out 0s normal;animation:notify-animation-from-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}@keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top{-webkit-animation:notify-animation-from-top .3s ease-in-out 0s normal;animation:notify-animation-from-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}@keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom{-webkit-animation:notify-animation-from-bottom .3s ease-in-out 0s normal;animation:notify-animation-from-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}@keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}[id^=NotiflixNotifyOverlay].nx-with-animation.nx-remove,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade.nx-remove{opacity:0;-webkit-animation:notify-remove-fade .3s ease-in-out 0s normal;animation:notify-remove-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}@keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom.nx-remove{-webkit-transform:scale(0);transform:scale(0);-webkit-animation:notify-remove-zoom .3s ease-in-out 0s normal;animation:notify-remove-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}@keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top.nx-remove{opacity:0;-webkit-animation:notify-remove-to-top .3s ease-in-out 0s normal;animation:notify-remove-to-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}@keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right.nx-remove{opacity:0;-webkit-animation:notify-remove-to-right .3s ease-in-out 0s normal;animation:notify-remove-to-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}@keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom.nx-remove{opacity:0;-webkit-animation:notify-remove-to-bottom .3s ease-in-out 0s normal;animation:notify-remove-to-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}@keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left.nx-remove{opacity:0;-webkit-animation:notify-remove-to-left .3s ease-in-out 0s normal;animation:notify-remove-to-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}@keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}'},X=0,Y=function(h,m,y,I){if(!C("body"))return!1;t||ge.Notify.init({});var P=E(!0,t,{});if(typeof y=="object"&&!Array.isArray(y)||typeof I=="object"&&!Array.isArray(I)){var U={};typeof y=="object"?U=y:typeof I=="object"&&(U=I),t=E(!0,t,U)}var O=t[h.toLocaleLowerCase("en")];X++,typeof m!="string"&&(m="Notiflix "+h),t.plainText&&(m=z(m)),!t.plainText&&m.length>t.messageMaxLength&&(t=E(!0,t,{closeButton:!0,messageMaxLength:150}),m='Possible HTML Tags Error: The "plainText" option is "false" and the notification content length is more than the "messageMaxLength" option.'),m.length>t.messageMaxLength&&(m=m.substring(0,t.messageMaxLength)+"..."),t.fontAwesomeIconStyle==="shadow"&&(O.fontAwesomeIconColor=O.background),t.cssAnimation||(t.cssAnimationDuration=0);var k=e.document.getElementById(u.wrapID)||e.document.createElement("div");if(k.id=u.wrapID,k.style.width=t.width,k.style.zIndex=t.zindex,k.style.opacity=t.opacity,t.position==="center-center"?(k.style.left=t.distance,k.style.top=t.distance,k.style.right=t.distance,k.style.bottom=t.distance,k.style.margin="auto",k.classList.add("nx-flex-center-center"),k.style.maxHeight="calc((100vh - "+t.distance+") - "+t.distance+")",k.style.display="flex",k.style.flexWrap="wrap",k.style.flexDirection="column",k.style.justifyContent="center",k.style.alignItems="center",k.style.pointerEvents="none"):t.position==="center-top"?(k.style.left=t.distance,k.style.right=t.distance,k.style.top=t.distance,k.style.bottom="auto",k.style.margin="auto"):t.position==="center-bottom"?(k.style.left=t.distance,k.style.right=t.distance,k.style.bottom=t.distance,k.style.top="auto",k.style.margin="auto"):t.position==="right-bottom"?(k.style.right=t.distance,k.style.bottom=t.distance,k.style.top="auto",k.style.left="auto"):t.position==="left-top"?(k.style.left=t.distance,k.style.top=t.distance,k.style.right="auto",k.style.bottom="auto"):t.position==="left-bottom"?(k.style.left=t.distance,k.style.bottom=t.distance,k.style.top="auto",k.style.right="auto"):(k.style.right=t.distance,k.style.top=t.distance,k.style.left="auto",k.style.bottom="auto"),t.backOverlay){var G=e.document.getElementById(u.overlayID)||e.document.createElement("div");G.id=u.overlayID,G.style.width="100%",G.style.height="100%",G.style.position="fixed",G.style.zIndex=t.zindex-1,G.style.left=0,G.style.top=0,G.style.right=0,G.style.bottom=0,G.style.background=O.backOverlayColor||t.backOverlayColor,G.className=t.cssAnimation?"nx-with-animation":"",G.style.animationDuration=t.cssAnimation?t.cssAnimationDuration+"ms":"",e.document.getElementById(u.overlayID)||e.document.body.appendChild(G)}e.document.getElementById(u.wrapID)||e.document.body.appendChild(k);var R=e.document.createElement("div");R.id=t.ID+"-"+X,R.className=t.className+" "+O.childClassName+" "+(t.cssAnimation?"nx-with-animation":"")+" "+(t.useIcon?"nx-with-icon":"")+" nx-"+t.cssAnimationStyle+" "+(t.closeButton&&typeof y!="function"?"nx-with-close-button":"")+" "+(typeof y=="function"?"nx-with-callback":"")+" "+(t.clickToClose?"nx-notify-click-to-close":""),R.style.fontSize=t.fontSize,R.style.color=O.textColor,R.style.background=O.background,R.style.borderRadius=t.borderRadius,R.style.pointerEvents="all",t.rtl&&(R.setAttribute("dir","rtl"),R.classList.add("nx-rtl-on")),R.style.fontFamily='"'+t.fontFamily+'", '+c,t.cssAnimation&&(R.style.animationDuration=t.cssAnimationDuration+"ms");var Q="";if(t.closeButton&&typeof y!="function"&&(Q='<span class="nx-close-button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><g><path fill="'+O.notiflixIconColor+'" d="M0.38 2.19l7.8 7.81 -7.8 7.81c-0.51,0.5 -0.51,1.31 -0.01,1.81 0.25,0.25 0.57,0.38 0.91,0.38 0.34,0 0.67,-0.14 0.91,-0.38l7.81 -7.81 7.81 7.81c0.24,0.24 0.57,0.38 0.91,0.38 0.34,0 0.66,-0.14 0.9,-0.38 0.51,-0.5 0.51,-1.31 0,-1.81l-7.81 -7.81 7.81 -7.81c0.51,-0.5 0.51,-1.31 0,-1.82 -0.5,-0.5 -1.31,-0.5 -1.81,0l-7.81 7.81 -7.81 -7.81c-0.5,-0.5 -1.31,-0.5 -1.81,0 -0.51,0.51 -0.51,1.32 0,1.82z"/></g></svg></span>'),!t.useIcon)R.innerHTML='<span class="nx-message">'+m+"</span>"+(t.closeButton?Q:"");else if(t.useFontAwesome)R.innerHTML='<i style="color:'+O.fontAwesomeIconColor+"; font-size:"+t.fontAwesomeIconSize+';" class="nx-message-icon nx-message-icon-fa '+O.fontAwesomeClassName+" "+(t.fontAwesomeIconStyle==="shadow"?"nx-message-icon-fa-shadow":"nx-message-icon-fa-basic")+'"></i><span class="nx-message nx-with-icon">'+m+"</span>"+(t.closeButton?Q:"");else{var re="";h===l.Success?re='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+O.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-2.4 -13.29l11.52 -12.96c0.37,-0.41 1.01,-0.45 1.42,-0.08 0.42,0.37 0.46,1 0.09,1.42l-12.16 13.67c-0.19,0.22 -0.46,0.34 -0.75,0.34 -0.23,0 -0.45,-0.07 -0.63,-0.22l-7.6 -6.07c-0.43,-0.35 -0.5,-0.99 -0.16,-1.42 0.35,-0.43 0.99,-0.5 1.42,-0.16l6.85 5.48z"/></g></svg>':h===l.Failure?re='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+O.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm1.42 -17.98l6.13 6.12c0.39,0.4 0.39,1.04 0,1.43 -0.19,0.19 -0.45,0.29 -0.71,0.29 -0.27,0 -0.53,-0.1 -0.72,-0.29l-6.12 -6.13 -6.13 6.13c-0.19,0.19 -0.44,0.29 -0.71,0.29 -0.27,0 -0.52,-0.1 -0.71,-0.29 -0.39,-0.39 -0.39,-1.03 0,-1.43l6.13 -6.12 -6.13 -6.13c-0.39,-0.39 -0.39,-1.03 0,-1.42 0.39,-0.39 1.03,-0.39 1.42,0l6.13 6.12 6.12 -6.12c0.4,-0.39 1.04,-0.39 1.43,0 0.39,0.39 0.39,1.03 0,1.42l-6.13 6.13z"/></g></svg>':h===l.Warning?re='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+O.notiflixIconColor+'" d="M21.91 3.48l17.8 30.89c0.84,1.46 -0.23,3.25 -1.91,3.25l-35.6 0c-1.68,0 -2.75,-1.79 -1.91,-3.25l17.8 -30.89c0.85,-1.47 2.97,-1.47 3.82,0zm16.15 31.84l-17.8 -30.89c-0.11,-0.2 -0.41,-0.2 -0.52,0l-17.8 30.89c-0.12,0.2 0.05,0.4 0.26,0.4l35.6 0c0.21,0 0.38,-0.2 0.26,-0.4zm-19.01 -4.12l0 -1.05c0,-0.53 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.42 0.95,0.95l0 1.05c0,0.53 -0.42,0.95 -0.95,0.95 -0.53,0 -0.95,-0.42 -0.95,-0.95zm0 -4.66l0 -13.39c0,-0.52 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.43 0.95,0.95l0 13.39c0,0.53 -0.42,0.96 -0.95,0.96 -0.53,0 -0.95,-0.43 -0.95,-0.96z"/></g></svg>':h===l.Info&&(re='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+O.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-0.99 -23.3c0,-0.54 0.44,-0.98 0.99,-0.98 0.55,0 0.99,0.44 0.99,0.98l0 15.86c0,0.55 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.44 -0.99,-0.99l0 -15.86zm0 -5.22c0,-0.55 0.44,-0.99 0.99,-0.99 0.55,0 0.99,0.44 0.99,0.99l0 1.09c0,0.54 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.45 -0.99,-0.99l0 -1.09z"/></g></svg>'),R.innerHTML=re+'<span class="nx-message nx-with-icon">'+m+"</span>"+(t.closeButton?Q:"")}if(t.position==="left-bottom"||t.position==="right-bottom"){var ae=e.document.getElementById(u.wrapID);ae.insertBefore(R,ae.firstChild)}else e.document.getElementById(u.wrapID).appendChild(R);var ie=e.document.getElementById(R.id);if(ie){var j,oe,K=function(){ie.classList.add("nx-remove");var F=e.document.getElementById(u.overlayID);F&&0>=k.childElementCount&&F.classList.add("nx-remove"),clearTimeout(j)},Ee=function(){if(ie&&ie.parentNode!==null&&ie.parentNode.removeChild(ie),0>=k.childElementCount&&k.parentNode!==null){k.parentNode.removeChild(k);var F=e.document.getElementById(u.overlayID);F&&F.parentNode!==null&&F.parentNode.removeChild(F)}clearTimeout(oe)};if(t.closeButton&&typeof y!="function"){var Ne=e.document.getElementById(R.id).querySelector("span.nx-close-button");Ne.addEventListener("click",function(){K();var F=setTimeout(function(){Ee(),clearTimeout(F)},t.cssAnimationDuration)})}if((typeof y=="function"||t.clickToClose)&&ie.addEventListener("click",function(){typeof y=="function"&&y(),K();var F=setTimeout(function(){Ee(),clearTimeout(F)},t.cssAnimationDuration)}),!t.closeButton&&typeof y!="function"){var _e=function(){j=setTimeout(function(){K()},t.timeout),oe=setTimeout(function(){Ee()},t.timeout+t.cssAnimationDuration)};_e(),t.pauseOnHover&&(ie.addEventListener("mouseenter",function(){ie.classList.add("nx-paused"),clearTimeout(j),clearTimeout(oe)}),ie.addEventListener("mouseleave",function(){ie.classList.remove("nx-paused"),_e()}))}}if(t.showOnlyTheLastOne&&0<X)for(var ye,te=e.document.querySelectorAll("[id^="+t.ID+"-]:not([id="+t.ID+"-"+X+"])"),Be=0;Be<te.length;Be++)ye=te[Be],ye.parentNode!==null&&ye.parentNode.removeChild(ye);t=E(!0,t,P)},ne=function(){return'[id^=NotiflixReportWrap]{position:fixed;z-index:4002;width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;left:0;top:0;padding:10px;color:#1e1e1e;border-radius:25px;background:transparent;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixReportWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixReportWrap]>div[class*="-overlay"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixReportWrap]>div.nx-report-click-to-close{cursor:pointer}[id^=NotiflixReportWrap]>div[class*="-content"]{width:320px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:inherit;padding:10px;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));border:1px solid rgba(0,0,0,.03);background:#f8f8f8;position:relative;z-index:1}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixReportWrap]>div[class*="-content"]>div[class$="-icon"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:110px;height:110px;display:block;margin:6px auto 12px}[id^=NotiflixReportWrap]>div[class*="-content"]>div[class$="-icon"] svg{min-width:100%;max-width:100%;height:auto}[id^=NotiflixReportWrap]>*>h5{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:16px;font-weight:500;line-height:1.4;margin:0 0 10px;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);float:left;width:100%;text-align:center}[id^=NotiflixReportWrap]>*>p{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:13px;line-height:1.4;font-weight:normal;float:left;width:100%;padding:0 10px;margin:0 0 10px}[id^=NotiflixReportWrap] a#NXReportButton{word-break:break-all;word-break:break-word;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;cursor:pointer;float:right;padding:7px 17px;background:#32c682;font-size:14px;line-height:1.4;font-weight:500;border-radius:inherit!important;color:#fff}[id^=NotiflixReportWrap] a#NXReportButton:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixReportWrap].nx-rtl-on a#NXReportButton{float:left}[id^=NotiflixReportWrap]>div[class*="-overlay"].nx-with-animation{-webkit-animation:report-overlay-animation .3s ease-in-out 0s normal;animation:report-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*="-content"].nx-with-animation.nx-fade{-webkit-animation:report-animation-fade .3s ease-in-out 0s normal;animation:report-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*="-content"].nx-with-animation.nx-zoom{-webkit-animation:report-animation-zoom .3s ease-in-out 0s normal;animation:report-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixReportWrap].nx-remove>div[class*="-overlay"].nx-with-animation{opacity:0;-webkit-animation:report-overlay-animation-remove .3s ease-in-out 0s normal;animation:report-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*="-content"].nx-with-animation.nx-fade{opacity:0;-webkit-animation:report-animation-fade-remove .3s ease-in-out 0s normal;animation:report-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*="-content"].nx-with-animation.nx-zoom{opacity:0;-webkit-animation:report-animation-zoom-remove .3s ease-in-out 0s normal;animation:report-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}'},fe=function(h,m,y,I,P,U){if(!C("body"))return!1;i||ge.Report.init({});var O={};if(typeof P=="object"&&!Array.isArray(P)||typeof U=="object"&&!Array.isArray(U)){var k={};typeof P=="object"?k=P:typeof U=="object"&&(k=U),O=E(!0,i,{}),i=E(!0,i,k)}var G=i[h.toLocaleLowerCase("en")];typeof m!="string"&&(m="Notiflix "+h),typeof y!="string"&&(h===d.Success?y='"Do not try to become a person of success but try to become a person of value." <br><br>- Albert Einstein':h===d.Failure?y='"Failure is simply the opportunity to begin again, this time more intelligently." <br><br>- Henry Ford':h===d.Warning?y='"The peoples who want to live comfortably without producing and fatigue; they are doomed to lose their dignity, then liberty, and then independence and destiny." <br><br>- Mustafa Kemal Ataturk':h===d.Info&&(y='"Knowledge rests not upon truth alone, but upon error also." <br><br>- Carl Gustav Jung')),typeof I!="string"&&(I="Okay"),i.plainText&&(m=z(m),y=z(y),I=z(I)),i.plainText||(m.length>i.titleMaxLength&&(m="Possible HTML Tags Error",y='The "plainText" option is "false" and the title content length is more than the "titleMaxLength" option.',I="Okay"),y.length>i.messageMaxLength&&(m="Possible HTML Tags Error",y='The "plainText" option is "false" and the message content length is more than the "messageMaxLength" option.',I="Okay"),I.length>i.buttonMaxLength&&(m="Possible HTML Tags Error",y='The "plainText" option is "false" and the button content length is more than the "buttonMaxLength" option.',I="Okay")),m.length>i.titleMaxLength&&(m=m.substring(0,i.titleMaxLength)+"..."),y.length>i.messageMaxLength&&(y=y.substring(0,i.messageMaxLength)+"..."),I.length>i.buttonMaxLength&&(I=I.substring(0,i.buttonMaxLength)+"..."),i.cssAnimation||(i.cssAnimationDuration=0);var R=e.document.createElement("div");R.id=g.ID,R.className=i.className,R.style.zIndex=i.zindex,R.style.borderRadius=i.borderRadius,R.style.fontFamily='"'+i.fontFamily+'", '+c,i.rtl&&(R.setAttribute("dir","rtl"),R.classList.add("nx-rtl-on")),R.style.display="flex",R.style.flexWrap="wrap",R.style.flexDirection="column",R.style.alignItems="center",R.style.justifyContent="center";var Q="",re=i.backOverlayClickToClose===!0;i.backOverlay&&(Q='<div class="'+i.className+"-overlay"+(i.cssAnimation?" nx-with-animation":"")+(re?" nx-report-click-to-close":"")+'" style="background:'+(G.backOverlayColor||i.backOverlayColor)+";animation-duration:"+i.cssAnimationDuration+'ms;"></div>');var ae="";if(h===d.Success?ae=xe(i.svgSize,G.svgColor):h===d.Failure?ae=wt(i.svgSize,G.svgColor):h===d.Warning?ae=zn(i.svgSize,G.svgColor):h===d.Info&&(ae=Wn(i.svgSize,G.svgColor)),R.innerHTML=Q+'<div class="'+i.className+"-content"+(i.cssAnimation?" nx-with-animation ":"")+" nx-"+i.cssAnimationStyle+'" style="width:'+i.width+"; background:"+i.backgroundColor+"; animation-duration:"+i.cssAnimationDuration+'ms;"><div style="width:'+i.svgSize+"; height:"+i.svgSize+';" class="'+i.className+'-icon">'+ae+'</div><h5 class="'+i.className+'-title" style="font-weight:500; font-size:'+i.titleFontSize+"; color:"+G.titleColor+';">'+m+'</h5><p class="'+i.className+'-message" style="font-size:'+i.messageFontSize+"; color:"+G.messageColor+';">'+y+'</p><a id="NXReportButton" class="'+i.className+'-button" style="font-weight:500; font-size:'+i.buttonFontSize+"; background:"+G.buttonBackground+"; color:"+G.buttonColor+';">'+I+"</a></div>",!e.document.getElementById(R.id)){e.document.body.appendChild(R);var ie=function(){var K=e.document.getElementById(R.id);K.classList.add("nx-remove");var Ee=setTimeout(function(){K.parentNode!==null&&K.parentNode.removeChild(K),clearTimeout(Ee)},i.cssAnimationDuration)},j=e.document.getElementById("NXReportButton");if(j.addEventListener("click",function(){typeof P=="function"&&P(),ie()}),Q&&re){var oe=e.document.querySelector(".nx-report-click-to-close");oe.addEventListener("click",function(){ie()})}}i=E(!0,i,O)},Ue=function(){return'[id^=NotiflixConfirmWrap]{position:fixed;z-index:4003;width:100%;height:100%;left:0;top:0;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixConfirmWrap].nx-position-center-top{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-center-bottom{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-left-top{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-center{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-bottom{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-top{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-right-center{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-bottom{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixConfirmWrap]>div[class*="-overlay"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixConfirmWrap]>div[class*="-overlay"].nx-with-animation{-webkit-animation:confirm-overlay-animation .3s ease-in-out 0s normal;animation:confirm-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-remove>div[class*="-overlay"].nx-with-animation{opacity:0;-webkit-animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal;animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap]>div[class*="-content"]{width:300px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:25px;padding:10px;margin:0;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));background:#f8f8f8;color:#1e1e1e;position:relative;z-index:1;text-align:center}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]{float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>h5{float:left;width:100%;margin:0;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);color:#32c682;font-family:inherit!important;font-size:16px;line-height:1.4;font-weight:500;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div{font-family:inherit!important;margin:15px 0 20px;padding:0 10px;float:left;width:100%;font-size:14px;line-height:1.4;font-weight:normal;color:inherit;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div{font-family:inherit!important;float:left;width:100%;margin:15px 0 0;padding:0}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input{font-family:inherit!important;float:left;width:100%;height:40px;margin:0;padding:0 15px;border:1px solid rgba(0,0,0,.1);border-radius:25px;font-size:14px;font-weight:normal;line-height:1;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;text-align:left}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-head"]>div>div>input{text-align:right}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input:hover{border-color:rgba(0,0,0,.1)}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input:focus{border-color:rgba(0,0,0,.3)}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input.nx-validation-failure{border-color:#ff5549}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input.nx-validation-success{border-color:#32c682}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:inherit;float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a{cursor:pointer;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;float:left;width:48%;padding:9px 5px;border-radius:inherit!important;font-weight:500;font-size:15px;line-height:1.4;color:#f8f8f8;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-confirm-button-ok{margin:0 2% 0 0;background:#32c682}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-confirm-button-cancel{margin:0 0 0 2%;background:#a9a9a9}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-full{margin:0;width:100%}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-buttons"],[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-buttons"]>a{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade>div[class*="-content"]{-webkit-animation:confirm-animation-fade .3s ease-in-out 0s normal;animation:confirm-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom>div[class*="-content"]{-webkit-animation:confirm-animation-zoom .3s ease-in-out 0s normal;animation:confirm-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade.nx-remove>div[class*="-content"]{opacity:0;-webkit-animation:confirm-animation-fade-remove .3s ease-in-out 0s normal;animation:confirm-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom.nx-remove>div[class*="-content"]{opacity:0;-webkit-animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal;animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}'},Un=function(h,m,y,I,P,U,O,k,G){if(!C("body"))return!1;s||ge.Confirm.init({});var R=E(!0,s,{});typeof G!="object"||Array.isArray(G)||(s=E(!0,s,G)),typeof m!="string"&&(m="Notiflix Confirm"),typeof y!="string"&&(y="Do you agree with me?"),typeof P!="string"&&(P="Yes"),typeof U!="string"&&(U="No"),typeof O!="function"&&(O=void 0),typeof k!="function"&&(k=void 0),s.plainText&&(m=z(m),y=z(y),P=z(P),U=z(U)),s.plainText||(m.length>s.titleMaxLength&&(m="Possible HTML Tags Error",y='The "plainText" option is "false" and the title content length is more than "titleMaxLength" option.',P="Okay",U="..."),y.length>s.messageMaxLength&&(m="Possible HTML Tags Error",y='The "plainText" option is "false" and the message content length is more than "messageMaxLength" option.',P="Okay",U="..."),(P.length||U.length)>s.buttonsMaxLength&&(m="Possible HTML Tags Error",y='The "plainText" option is "false" and the buttons content length is more than "buttonsMaxLength" option.',P="Okay",U="...")),m.length>s.titleMaxLength&&(m=m.substring(0,s.titleMaxLength)+"..."),y.length>s.messageMaxLength&&(y=y.substring(0,s.messageMaxLength)+"..."),P.length>s.buttonsMaxLength&&(P=P.substring(0,s.buttonsMaxLength)+"..."),U.length>s.buttonsMaxLength&&(U=U.substring(0,s.buttonsMaxLength)+"..."),s.cssAnimation||(s.cssAnimationDuration=0);var Q=e.document.createElement("div");Q.id=f.ID,Q.className=s.className+(s.cssAnimation?" nx-with-animation nx-"+s.cssAnimationStyle:""),Q.style.zIndex=s.zindex,Q.style.padding=s.distance,s.rtl&&(Q.setAttribute("dir","rtl"),Q.classList.add("nx-rtl-on"));var re=typeof s.position=="string"?s.position.trim():"center";Q.classList.add("nx-position-"+re),Q.style.fontFamily='"'+s.fontFamily+'", '+c;var ae="";s.backOverlay&&(ae='<div class="'+s.className+"-overlay"+(s.cssAnimation?" nx-with-animation":"")+'" style="background:'+s.backOverlayColor+";animation-duration:"+s.cssAnimationDuration+'ms;"></div>');var ie="";typeof O=="function"&&(ie='<a id="NXConfirmButtonCancel" class="nx-confirm-button-cancel" style="color:'+s.cancelButtonColor+";background:"+s.cancelButtonBackground+";font-size:"+s.buttonsFontSize+';">'+U+"</a>");var j="",oe=null,K=void 0;if(h===p.Ask||h===p.Prompt){oe=I||"";var Ee=h===p.Ask||200<oe.length?Math.ceil(1.5*oe.length):250,Ne=h===p.Prompt?'value="'+oe+'"':"";j='<div><input id="NXConfirmValidationInput" type="text" '+Ne+' maxlength="'+Ee+'" style="font-size:'+s.messageFontSize+";border-radius: "+s.borderRadius+';" autocomplete="off" spellcheck="false" autocapitalize="none" /></div>'}if(Q.innerHTML=ae+'<div class="'+s.className+'-content" style="width:'+s.width+"; background:"+s.backgroundColor+"; animation-duration:"+s.cssAnimationDuration+"ms; border-radius: "+s.borderRadius+';"><div class="'+s.className+'-head"><h5 style="color:'+s.titleColor+";font-size:"+s.titleFontSize+';">'+m+'</h5><div style="color:'+s.messageColor+";font-size:"+s.messageFontSize+';">'+y+j+'</div></div><div class="'+s.className+'-buttons"><a id="NXConfirmButtonOk" class="nx-confirm-button-ok'+(typeof O=="function"?"":" nx-full")+'" style="color:'+s.okButtonColor+";background:"+s.okButtonBackground+";font-size:"+s.buttonsFontSize+';">'+P+"</a>"+ie+"</div></div>",!e.document.getElementById(Q.id)){e.document.body.appendChild(Q);var _e=e.document.getElementById(Q.id),ye=e.document.getElementById("NXConfirmButtonOk"),te=e.document.getElementById("NXConfirmValidationInput");if(te&&(te.focus(),te.setSelectionRange(0,(te.value||"").length),te.addEventListener("keyup",function(F){var at=F.target.value;if(h===p.Ask&&at!==oe)F.preventDefault(),te.classList.add("nx-validation-failure"),te.classList.remove("nx-validation-success");else{h===p.Ask&&(te.classList.remove("nx-validation-failure"),te.classList.add("nx-validation-success"));var kt=(F.key||"").toLocaleLowerCase("en")==="enter"||F.keyCode===13;kt&&ye.dispatchEvent(new Event("click"))}})),ye.addEventListener("click",function(F){if(h===p.Ask&&oe&&te){var at=(te.value||"").toString();if(at!==oe)return te.focus(),te.classList.add("nx-validation-failure"),F.stopPropagation(),F.preventDefault(),F.returnValue=!1,F.cancelBubble=!0,!1;te.classList.remove("nx-validation-failure")}typeof O=="function"&&(h===p.Prompt&&te&&(K=te.value||""),O(K)),_e.classList.add("nx-remove");var kt=setTimeout(function(){_e.parentNode!==null&&(_e.parentNode.removeChild(_e),clearTimeout(kt))},s.cssAnimationDuration)}),typeof O=="function"){var Be=e.document.getElementById("NXConfirmButtonCancel");Be.addEventListener("click",function(){typeof k=="function"&&(h===p.Prompt&&te&&(K=te.value||""),k(K)),_e.classList.add("nx-remove");var F=setTimeout(function(){_e.parentNode!==null&&(_e.parentNode.removeChild(_e),clearTimeout(F))},s.cssAnimationDuration)})}}s=E(!0,s,R)},Vo=function(){return'[id^=NotiflixLoadingWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:fixed;z-index:4000;width:100%;height:100%;left:0;top:0;right:0;bottom:0;margin:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;background:rgba(0,0,0,.8);font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}[id^=NotiflixLoadingWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixLoadingWrap].nx-loading-click-to-close{cursor:pointer}[id^=NotiflixLoadingWrap]>div[class*="-icon"]{width:60px;height:60px;position:relative;-webkit-transition:top .2s ease-in-out;-o-transition:top .2s ease-in-out;transition:top .2s ease-in-out;margin:0 auto}[id^=NotiflixLoadingWrap]>div[class*="-icon"] img,[id^=NotiflixLoadingWrap]>div[class*="-icon"] svg{max-width:unset;max-height:unset;width:100%;height:auto;position:absolute;left:0;top:0}[id^=NotiflixLoadingWrap]>p{position:relative;margin:10px auto 0;font-family:inherit!important;font-weight:normal;font-size:15px;line-height:1.4;padding:0 10px;width:100%;text-align:center}[id^=NotiflixLoadingWrap].nx-with-animation{-webkit-animation:loading-animation-fade .3s ease-in-out 0s normal;animation:loading-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixLoadingWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:loading-animation-fade-remove .3s ease-in-out 0s normal;animation:loading-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixLoadingWrap]>p.nx-loading-message-new{-webkit-animation:loading-new-message-fade .3s ease-in-out 0s normal;animation:loading-new-message-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}'},Me=function(h,m,y,I,P){if(!C("body"))return!1;r||ge.Loading.init({});var U=E(!0,r,{});if(typeof m=="object"&&!Array.isArray(m)||typeof y=="object"&&!Array.isArray(y)){var O={};typeof m=="object"?O=m:typeof y=="object"&&(O=y),r=E(!0,r,O)}var k="";if(typeof m=="string"&&0<m.length&&(k=m),I){k=k.length>r.messageMaxLength?z(k).toString().substring(0,r.messageMaxLength)+"...":z(k).toString();var G="";0<k.length&&(G='<p id="'+r.messageID+'" class="nx-loading-message" style="color:'+r.messageColor+";font-size:"+r.messageFontSize+';">'+k+"</p>"),r.cssAnimation||(r.cssAnimationDuration=0);var R="";if(h===_.Standard)R=qe(r.svgSize,r.svgColor);else if(h===_.Hourglass)R=tn(r.svgSize,r.svgColor);else if(h===_.Circle)R=Ye(r.svgSize,r.svgColor);else if(h===_.Arrows)R=nn(r.svgSize,r.svgColor);else if(h===_.Dots)R=N(r.svgSize,r.svgColor);else if(h===_.Pulse)R=M(r.svgSize,r.svgColor);else if(h===_.Custom&&r.customSvgCode!==null&&r.customSvgUrl===null)R=r.customSvgCode||"";else if(h===_.Custom&&r.customSvgUrl!==null&&r.customSvgCode===null)R='<img class="nx-custom-loading-icon" width="'+r.svgSize+'" height="'+r.svgSize+'" src="'+r.customSvgUrl+'" alt="Notiflix">';else{if(h===_.Custom&&(r.customSvgUrl===null||r.customSvgCode===null))return D('You have to set a static SVG url to "customSvgUrl" option to use Loading Custom.'),!1;R=L(r.svgSize,"#f8f8f8","#32c682")}var Q=parseInt((r.svgSize||"").replace(/[^0-9]/g,"")),re=e.innerWidth,ae=Q>=re?re-40+"px":Q+"px",ie='<div style="width:'+ae+"; height:"+ae+';" class="'+r.className+"-icon"+(0<k.length?" nx-with-message":"")+'">'+R+"</div>",j=e.document.createElement("div");if(j.id=v.ID,j.className=r.className+(r.cssAnimation?" nx-with-animation":"")+(r.clickToClose?" nx-loading-click-to-close":""),j.style.zIndex=r.zindex,j.style.background=r.backgroundColor,j.style.animationDuration=r.cssAnimationDuration+"ms",j.style.fontFamily='"'+r.fontFamily+'", '+c,j.style.display="flex",j.style.flexWrap="wrap",j.style.flexDirection="column",j.style.alignItems="center",j.style.justifyContent="center",r.rtl&&(j.setAttribute("dir","rtl"),j.classList.add("nx-rtl-on")),j.innerHTML=ie+G,!e.document.getElementById(j.id)&&(e.document.body.appendChild(j),r.clickToClose)){var oe=e.document.getElementById(j.id);oe.addEventListener("click",function(){j.classList.add("nx-remove");var Ne=setTimeout(function(){j.parentNode!==null&&(j.parentNode.removeChild(j),clearTimeout(Ne))},r.cssAnimationDuration)})}}else if(e.document.getElementById(v.ID))var K=e.document.getElementById(v.ID),Ee=setTimeout(function(){K.classList.add("nx-remove");var Ne=setTimeout(function(){K.parentNode!==null&&(K.parentNode.removeChild(K),clearTimeout(Ne))},r.cssAnimationDuration);clearTimeout(Ee)},P);r=E(!0,r,U)},Xo=function(h){typeof h!="string"&&(h="");var m=e.document.getElementById(v.ID);if(m)if(0<h.length){h=h.length>r.messageMaxLength?z(h).substring(0,r.messageMaxLength)+"...":z(h);var y=m.getElementsByTagName("p")[0];if(y)y.innerHTML=h;else{var I=e.document.createElement("p");I.id=r.messageID,I.className="nx-loading-message nx-loading-message-new",I.style.color=r.messageColor,I.style.fontSize=r.messageFontSize,I.innerHTML=h,m.appendChild(I)}}else D("Where is the new message?")},Go=function(){return'[id^=NotiflixBlockWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1000;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;background:rgba(255,255,255,.9);text-align:center;animation-duration:.4s;width:100%;height:100%;left:0;top:0;border-radius:inherit;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixBlockWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixBlockWrap]>span[class*="-icon"]{display:block;width:45px;height:45px;position:relative;margin:0 auto}[id^=NotiflixBlockWrap]>span[class*="-icon"] svg{width:inherit;height:inherit}[id^=NotiflixBlockWrap]>span[class*="-message"]{position:relative;display:block;width:100%;margin:10px auto 0;padding:0 10px;font-family:inherit!important;font-weight:normal;font-size:14px;line-height:1.4}[id^=NotiflixBlockWrap].nx-with-animation{-webkit-animation:block-animation-fade .3s ease-in-out 0s normal;animation:block-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixBlockWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:block-animation-fade-remove .3s ease-in-out 0s normal;animation:block-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}'},Bn=0,$e=function(h,m,y,I,P,U){var O;if(Array.isArray(y)){if(1>y.length)return D("Array of HTMLElements should contains at least one HTMLElement."),!1;O=y}else if(Object.prototype.isPrototypeOf.call(NodeList.prototype,y)){if(1>y.length)return D("NodeListOf<HTMLElement> should contains at least one HTMLElement."),!1;O=Array.prototype.slice.call(y)}else{var k=typeof y!="string"||1>(y||"").length||(y||"").length===1&&((y||"")[0]==="#"||(y||"")[0]===".");if(k)return D("The selector parameter must be a string and matches a specified CSS selector(s)."),!1;var G=e.document.querySelectorAll(y);if(1>G.length)return D('You called the "Notiflix.Block..." function with "'+y+'" selector, but there is no such element(s) in the document.'),!1;O=G}o||ge.Block.init({});var R=E(!0,o,{});if(typeof I=="object"&&!Array.isArray(I)||typeof P=="object"&&!Array.isArray(P)){var Q={};typeof I=="object"?Q=I:typeof P=="object"&&(Q=P),o=E(!0,o,Q)}var re="";typeof I=="string"&&0<I.length&&(re=I),o.cssAnimation||(o.cssAnimationDuration=0);var ae=T.className;typeof o.className=="string"&&(ae=o.className.trim());var ie=typeof o.querySelectorLimit=="number"?o.querySelectorLimit:200,j=(O||[]).length>=ie?ie:O.length,oe="nx-block-temporary-position";if(h){for(var K,Ee=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","html","head","title","script","style","iframe"],Ne=0;Ne<j;Ne++)if(K=O[Ne],K){if(-1<Ee.indexOf(K.tagName.toLocaleLowerCase("en")))break;var _e=K.querySelectorAll("[id^="+T.ID+"]");if(1>_e.length){var ye="";m&&(m===x.Hourglass?ye=tn(o.svgSize,o.svgColor):m===x.Circle?ye=Ye(o.svgSize,o.svgColor):m===x.Arrows?ye=nn(o.svgSize,o.svgColor):m===x.Dots?ye=N(o.svgSize,o.svgColor):m===x.Pulse?ye=M(o.svgSize,o.svgColor):ye=qe(o.svgSize,o.svgColor));var te='<span class="'+ae+'-icon" style="width:'+o.svgSize+";height:"+o.svgSize+';">'+ye+"</span>",Be="";0<re.length&&(re=re.length>o.messageMaxLength?z(re).substring(0,o.messageMaxLength)+"...":z(re),Be='<span style="font-size:'+o.messageFontSize+";color:"+o.messageColor+';" class="'+ae+'-message">'+re+"</span>"),Bn++;var F=e.document.createElement("div");F.id=T.ID+"-"+Bn,F.className=ae+(o.cssAnimation?" nx-with-animation":""),F.style.position=o.position,F.style.zIndex=o.zindex,F.style.background=o.backgroundColor,F.style.animationDuration=o.cssAnimationDuration+"ms",F.style.fontFamily='"'+o.fontFamily+'", '+c,F.style.display="flex",F.style.flexWrap="wrap",F.style.flexDirection="column",F.style.alignItems="center",F.style.justifyContent="center",o.rtl&&(F.setAttribute("dir","rtl"),F.classList.add("nx-rtl-on")),F.innerHTML=te+Be;var at=e.getComputedStyle(K).getPropertyValue("position"),kt=typeof at=="string"?at.toLocaleLowerCase("en"):"relative",ns=Math.round(1.25*parseInt(o.svgSize))+40,jo=K.offsetHeight||0,Hn="";ns>jo&&(Hn="min-height:"+ns+"px;");var is="";is=K.getAttribute("id")?"#"+K.getAttribute("id"):K.classList[0]?"."+K.classList[0]:(K.tagName||"").toLocaleLowerCase("en");var ss="",rs=-1>=["absolute","relative","fixed","sticky"].indexOf(kt);if(rs||0<Hn.length){if(!C("head"))return!1;rs&&(ss="position:relative!important;");var Ko='<style id="Style-'+T.ID+"-"+Bn+'">'+is+"."+oe+"{"+ss+Hn+"}</style>",os=e.document.createRange();os.selectNode(e.document.head);var qo=os.createContextualFragment(Ko);e.document.head.appendChild(qo),K.classList.add(oe)}K.appendChild(F)}}}else var Yo=function(pe){var Ce=setTimeout(function(){pe.parentNode!==null&&pe.parentNode.removeChild(pe);var Ct=pe.getAttribute("id"),sn=e.document.getElementById("Style-"+Ct);sn&&sn.parentNode!==null&&sn.parentNode.removeChild(sn),clearTimeout(Ce)},o.cssAnimationDuration)},$o=function(pe){if(pe&&0<pe.length)for(var Ce,Ct=0;Ct<pe.length;Ct++)Ce=pe[Ct],Ce&&(Ce.classList.add("nx-remove"),Yo(Ce));else w(typeof y=="string"?'"Notiflix.Block.remove();" function called with "'+y+'" selector, but this selector does not have a "Block" element to remove.':'"Notiflix.Block.remove();" function called with "'+y+'", but this "Array<HTMLElement>" or "NodeListOf<HTMLElement>" does not have a "Block" element to remove.')},Qo=function(pe){var Ce=setTimeout(function(){pe.classList.remove(oe),clearTimeout(Ce)},o.cssAnimationDuration+300)},Jo=setTimeout(function(){for(var pe,Ce=0;Ce<j;Ce++)pe=O[Ce],pe&&(Qo(pe),_e=pe.querySelectorAll("[id^="+T.ID+"]"),$o(_e));clearTimeout(Jo)},U);o=E(!0,o,R)},ge={Notify:{init:function(h){t=E(!0,u,h),S(W,"NotiflixNotifyInternalCSS")},merge:function(h){return t?void(t=E(!0,t,h)):(D("You have to initialize the Notify module before call Merge function."),!1)},success:function(h,m,y){Y(l.Success,h,m,y)},failure:function(h,m,y){Y(l.Failure,h,m,y)},warning:function(h,m,y){Y(l.Warning,h,m,y)},info:function(h,m,y){Y(l.Info,h,m,y)}},Report:{init:function(h){i=E(!0,g,h),S(ne,"NotiflixReportInternalCSS")},merge:function(h){return i?void(i=E(!0,i,h)):(D("You have to initialize the Report module before call Merge function."),!1)},success:function(h,m,y,I,P){fe(d.Success,h,m,y,I,P)},failure:function(h,m,y,I,P){fe(d.Failure,h,m,y,I,P)},warning:function(h,m,y,I,P){fe(d.Warning,h,m,y,I,P)},info:function(h,m,y,I,P){fe(d.Info,h,m,y,I,P)}},Confirm:{init:function(h){s=E(!0,f,h),S(Ue,"NotiflixConfirmInternalCSS")},merge:function(h){return s?void(s=E(!0,s,h)):(D("You have to initialize the Confirm module before call Merge function."),!1)},show:function(h,m,y,I,P,U,O){Un(p.Show,h,m,null,y,I,P,U,O)},ask:function(h,m,y,I,P,U,O,k){Un(p.Ask,h,m,y,I,P,U,O,k)},prompt:function(h,m,y,I,P,U,O,k){Un(p.Prompt,h,m,y,I,P,U,O,k)}},Loading:{init:function(h){r=E(!0,v,h),S(Vo,"NotiflixLoadingInternalCSS")},merge:function(h){return r?void(r=E(!0,r,h)):(D("You have to initialize the Loading module before call Merge function."),!1)},standard:function(h,m){Me(_.Standard,h,m,!0,0)},hourglass:function(h,m){Me(_.Hourglass,h,m,!0,0)},circle:function(h,m){Me(_.Circle,h,m,!0,0)},arrows:function(h,m){Me(_.Arrows,h,m,!0,0)},dots:function(h,m){Me(_.Dots,h,m,!0,0)},pulse:function(h,m){Me(_.Pulse,h,m,!0,0)},custom:function(h,m){Me(_.Custom,h,m,!0,0)},notiflix:function(h,m){Me(_.Notiflix,h,m,!0,0)},remove:function(h){typeof h!="number"&&(h=0),Me(null,null,null,!1,h)},change:function(h){Xo(h)}},Block:{init:function(h){o=E(!0,T,h),S(Go,"NotiflixBlockInternalCSS")},merge:function(h){return o?void(o=E(!0,o,h)):(D('You have to initialize the "Notiflix.Block" module before call Merge function.'),!1)},standard:function(h,m,y){$e(!0,x.Standard,h,m,y)},hourglass:function(h,m,y){$e(!0,x.Hourglass,h,m,y)},circle:function(h,m,y){$e(!0,x.Circle,h,m,y)},arrows:function(h,m,y){$e(!0,x.Arrows,h,m,y)},dots:function(h,m,y){$e(!0,x.Dots,h,m,y)},pulse:function(h,m,y){$e(!0,x.Pulse,h,m,y)},remove:function(h,m){typeof m!="number"&&(m=0),$e(!1,null,h,null,null,m)}}};return typeof e.Notiflix=="object"?E(!0,e.Notiflix,{Notify:ge.Notify,Report:ge.Report,Confirm:ge.Confirm,Loading:ge.Loading,Block:ge.Block}):{Notify:ge.Notify,Report:ge.Report,Confirm:ge.Confirm,Loading:ge.Loading,Block:ge.Block}})})(Da);const us=ii;function sr(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function rr(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Fa=rr,or=new yi("auth","Firebase",rr());const dn=new tr("@firebase/auth");function za(n,...e){dn.logLevel<=vi.WARN&&dn.warn(`Auth (${In}): ${n}`,...e)}function ln(n,...e){dn.logLevel<=vi.ERROR&&dn.error(`Auth (${In}): ${n}`,...e)}function ds(n,...e){throw Ei(n,...e)}function Ci(n,...e){return Ei(n,...e)}function Wa(n,e,t){const i=Object.assign(Object.assign({},Fa()),{[e]:t});return new yi("auth","Firebase",i).create(e,{appName:n.name})}function Ei(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return or.create(n,...e)}function $(n,e,...t){if(!n)throw Ei(e,...t)}function St(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ln(e),new Error(e)}function hn(n,e){n||St(e)}function Ua(){return hs()==="http:"||hs()==="https:"}function hs(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Ba(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ua()||ea()||"connection"in navigator)?navigator.onLine:!0}function Ha(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Kt{constructor(e,t){this.shortDelay=e,this.longDelay=t,hn(t>e,"Short delay should be less than long delay!"),this.isMobile=_i()||er()}get(){return Ba()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Va(n,e){hn(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class ar{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;St("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;St("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;St("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xa={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Ga=new Kt(3e4,6e4);function ja(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ni(n,e,t,i,s={}){return lr(n,s,async()=>{let r={},o={};i&&(e==="GET"?o=i:r={body:JSON.stringify(i)});const a=xi(Object.assign({key:n.config.apiKey},o)).slice(1),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode),ar.fetch()(cr(n,n.config.apiHost,t,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},r))})}async function lr(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Xa),e);try{const s=new Ka(n),r=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw rn(n,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw rn(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw rn(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw rn(n,"user-disabled",o);const u=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Wa(n,u,l);ds(n,u)}}catch(s){if(s instanceof nr)throw s;ds(n,"network-request-failed",{message:String(s)})}}function cr(n,e,t,i){const s=`${e}${t}?${i}`;return n.config.emulator?Va(n.config,s):`${n.config.apiScheme}://${s}`}class Ka{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ci(this.auth,"network-request-failed")),Ga.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rn(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=Ci(n,e,i);return s.customData._tokenResponse=t,s}async function qa(n,e){return Ni(n,"POST","/v1/accounts:delete",e)}async function Ya(n,e){return Ni(n,"POST","/v1/accounts:lookup",e)}function Rt(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $a(n,e=!1){const t=Pe(n),i=await t.getIdToken(e),s=ur(i);$(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:Rt(Xn(s.auth_time)),issuedAtTime:Rt(Xn(s.iat)),expirationTime:Rt(Xn(s.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Xn(n){return Number(n)*1e3}function ur(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return ln("JWT malformed, contained fewer than 3 sections"),null;try{const s=na(t);return s?JSON.parse(s):(ln("Failed to decode base64 JWT payload"),null)}catch(s){return ln("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Qa(n){const e=ur(n);return $(e,"internal-error"),$(typeof e.exp<"u","internal-error"),$(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function si(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof nr&&Ja(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Ja({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class Za{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class dr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rt(this.lastLoginAt),this.creationTime=Rt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fn(n){var e;const t=n.auth,i=await n.getIdToken(),s=await si(n,Ya(t,{idToken:i}));$(s==null?void 0:s.users.length,t,"internal-error");const r=s.users[0];n._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?nl(r.providerUserInfo):[],a=tl(n.providerData,o),c=n.isAnonymous,l=!(n.email&&r.passwordHash)&&!(a!=null&&a.length),u=c?l:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new dr(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(n,d)}async function el(n){const e=Pe(n);await fn(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tl(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function nl(n){return n.map(e=>{var{providerId:t}=e,i=sr(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}async function il(n,e){const t=await lr(n,{},async()=>{const i=xi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=n.config,o=cr(n,s,"/v1/token",`key=${r}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ar.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}class Ft{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$(e.idToken,"internal-error"),$(typeof e.idToken<"u","internal-error"),$(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Qa(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return $(!this.accessToken||this.refreshToken,e,"user-token-expired"),!t&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:r}=await il(e,t);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:r}=t,o=new Ft;return i&&($(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),s&&($(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),r&&($(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ft,this.toJSON())}_performRefresh(){return St("not implemented")}}function He(n,e){$(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ut{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,r=sr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Za(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new dr(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await si(this,this.stsTokenManager.getToken(this.auth,e));return $(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return $a(this,e)}reload(){return el(this)}_assign(e){this!==e&&($(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ut(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await fn(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await si(this,qa(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,r,o,a,c,l,u;const d=(i=t.displayName)!==null&&i!==void 0?i:void 0,g=(s=t.email)!==null&&s!==void 0?s:void 0,p=(r=t.phoneNumber)!==null&&r!==void 0?r:void 0,f=(o=t.photoURL)!==null&&o!==void 0?o:void 0,_=(a=t.tenantId)!==null&&a!==void 0?a:void 0,v=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,x=(l=t.createdAt)!==null&&l!==void 0?l:void 0,T=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:D,emailVerified:w,isAnonymous:C,providerData:S,stsTokenManager:E}=t;$(D&&E,e,"internal-error");const z=Ft.fromJSON(this.name,E);$(typeof D=="string",e,"internal-error"),He(d,e.name),He(g,e.name),$(typeof w=="boolean",e,"internal-error"),$(typeof C=="boolean",e,"internal-error"),He(p,e.name),He(f,e.name),He(_,e.name),He(v,e.name),He(x,e.name),He(T,e.name);const xe=new ut({uid:D,auth:e,email:g,emailVerified:w,displayName:d,isAnonymous:C,photoURL:f,phoneNumber:p,tenantId:_,stsTokenManager:z,createdAt:x,lastLoginAt:T});return S&&Array.isArray(S)&&(xe.providerData=S.map(wt=>Object.assign({},wt))),v&&(xe._redirectEventId=v),xe}static async _fromIdTokenResponse(e,t,i=!1){const s=new Ft;s.updateFromServerResponse(t);const r=new ut({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await fn(r),r}}const fs=new Map;function Ze(n){hn(n instanceof Function,"Expected a class definition");let e=fs.get(n);return e?(hn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,fs.set(n,e),e)}class hr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}hr.type="NONE";const ps=hr;function Gn(n,e,t){return`firebase:${n}:${e}:${t}`}class dt{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=Gn(this.userKey,s.apiKey,r),this.fullPersistenceKey=Gn("persistence",s.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ut._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new dt(Ze(ps),e,i);const s=(await Promise.all(t.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let r=s[0]||Ze(ps);const o=Gn(i,e.config.apiKey,e.name);let a=null;for(const l of t)try{const u=await l._get(o);if(u){const d=ut._fromJSON(e,u);l!==r&&(a=d),r=l;break}}catch{}const c=s.filter(l=>l._shouldAllowMigration);return!r._shouldAllowMigration||!c.length?new dt(r,e,i):(r=c[0],a&&await r._set(o,a.toJSON()),await Promise.all(t.map(async l=>{if(l!==r)try{await l._remove(o)}catch{}})),new dt(r,e,i))}}function ms(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(al(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sl(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cl(e))return"Blackberry";if(ul(e))return"Webos";if(rl(e))return"Safari";if((e.includes("chrome/")||ol(e))&&!e.includes("edge/"))return"Chrome";if(ll(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function sl(n=De()){return/firefox\//i.test(n)}function rl(n=De()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ol(n=De()){return/crios\//i.test(n)}function al(n=De()){return/iemobile/i.test(n)}function ll(n=De()){return/android/i.test(n)}function cl(n=De()){return/blackberry/i.test(n)}function ul(n=De()){return/webos/i.test(n)}function fr(n,e=[]){let t;switch(n){case"Browser":t=ms(De());break;case"Worker":t=`${ms(De())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${In}/${i}`}async function pr(n,e){return Ni(n,"GET","/v2/recaptchaConfig",ja(n,e))}function gs(n){return n!==void 0&&n.enterprise!==void 0}class mr{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>t.provider==="EMAIL_PASSWORD_PROVIDER"&&t.enforcementState!=="OFF")}}function dl(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}function hl(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const r=Ci("internal-error");r.customData=s,t(r)},i.type="text/javascript",i.charset="UTF-8",dl().appendChild(i)})}const fl="https://www.google.com/recaptcha/enterprise.js?render=",pl="recaptcha-enterprise",ml="NO_RECAPTCHA";class gl{constructor(e){this.type=pl,this.auth=gr(e)}async verify(e="verify",t=!1){async function i(r){if(!t){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{pr(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new mr(c);return r.tenantId==null?r._agentRecaptchaConfig=l:r._tenantRecaptchaConfigs[r.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})})}function s(r,o,a){const c=window.grecaptcha;gs(c)?c.enterprise.ready(()=>{c.enterprise.execute(r,{action:e}).then(l=>{o(l)}).catch(()=>{o(ml)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((r,o)=>{i(this.auth).then(a=>{if(!t&&gs(window.grecaptcha))s(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}hl(fl+a).then(()=>{s(a,r,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}class _l{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=r=>new Promise((o,a)=>{try{const c=e(r);o(c)}catch(c){a(c)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}class yl{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _s(this),this.idTokenSubscription=new _s(this),this.beforeStateQueue=new _l(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=or,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ze(t)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await dt.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var t;const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(s=c.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await fn(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ha()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Pe(e):null;return t&&$(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&$(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ze(e))})}async initializeRecaptchaConfig(){const e=await pr(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new mr(e);this.tenantId==null?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled&&new gl(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yi("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ze(e)||this._popupRedirectResolver;$(t,this,"argument-error"),this.redirectPersistenceManager=await dt.create(this,[Ze(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const r=typeof t=="function"?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return $(o,this,"internal-error"),o.then(()=>r(this.currentUser)),typeof t=="function"?e.addObserver(t,i,s):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&za(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function gr(n){return Pe(n)}class _s{constructor(e){this.auth=e,this.observer=null,this.addObserver=ta(t=>this.observer=t)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function vl(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Ze);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}new Kt(3e4,6e4);new Kt(2e3,1e4);new Kt(3e4,6e4);new Kt(5e3,15e3);var ys="@firebase/auth",vs="0.23.2";class xl{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bl(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function wl(n){Zn(new ei("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;$(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fr(n)},l=new yl(i,s,r,c);return vl(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Zn(new ei("auth-internal",e=>{const t=gr(e.getProvider("auth").getImmediate());return(i=>new xl(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),cn(ys,vs,bl(n)),cn(ys,vs,"esm2017")}const kl=5*60;Zo("authIdTokenMaxAge");wl("Browser");const xs="@firebase/database",bs="0.14.4";let _r="";function Cl(n){_r=n}class El{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),le(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:bi(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Nl{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return ze(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const yr=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new El(e)}}catch{}return new Nl},et=yr("localStorage"),ri=yr("sessionStorage");const ht=new tr("@firebase/database"),Il=function(){let n=1;return function(){return n++}}(),vr=function(n){const e=aa(n),t=new la;t.update(e);const i=t.digest();return ca.encodeByteArray(i)},qt=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=qt.apply(null,i):typeof i=="object"?e+=le(i):e+=i,e+=" "}return e};let nt=null,ws=!0;const Tl=function(n,e){b(!e||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(ht.logLevel=vi.VERBOSE,nt=ht.log.bind(ht),e&&ri.set("logging_enabled",!0)):typeof n=="function"?nt=n:(nt=null,ri.remove("logging_enabled"))},me=function(...n){if(ws===!0&&(ws=!1,nt===null&&ri.get("logging_enabled")===!0&&Tl(!0)),nt){const e=qt.apply(null,n);nt(e)}},Yt=function(n){return function(...e){me(n,...e)}},oi=function(...n){const e="FIREBASE INTERNAL ERROR: "+qt(...n);ht.error(e)},Fe=function(...n){const e=`FIREBASE FATAL ERROR: ${qt(...n)}`;throw ht.error(e),new Error(e)},we=function(...n){const e="FIREBASE WARNING: "+qt(...n);ht.warn(e)},Sl=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&we("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},xr=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Rl=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},gt="[MIN_NAME]",it="[MAX_NAME]",vt=function(n,e){if(n===e)return 0;if(n===gt||e===it)return-1;if(e===gt||n===it)return 1;{const t=ks(n),i=ks(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},Al=function(n,e){return n===e?0:n<e?-1:1},Et=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+le(e))},Ii=function(n){if(typeof n!="object"||n===null)return le(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=le(e[i]),t+=":",t+=Ii(n[e[i]]);return t+="}",t},br=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let s=0;s<t;s+=e)s+e>t?i.push(n.substring(s,t)):i.push(n.substring(s,s+e));return i};function ke(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const wr=function(n){b(!xr(n),"Invalid JSON number");const e=11,t=52,i=(1<<e-1)-1;let s,r,o,a,c;n===0?(r=0,o=0,s=1/n===-1/0?1:0):(s=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),r=a+i,o=Math.round(n*Math.pow(2,t-a)-Math.pow(2,t))):(r=0,o=Math.round(n/Math.pow(2,1-i-t))));const l=[];for(c=t;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)l.push(r%2?1:0),r=Math.floor(r/2);l.push(s?1:0),l.reverse();const u=l.join("");let d="";for(c=0;c<64;c+=8){let g=parseInt(u.substr(c,8),2).toString(16);g.length===1&&(g="0"+g),d=d+g}return d.toLowerCase()},Pl=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Ml=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Ll(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}const Ol=new RegExp("^-?(0*)\\d{1,10}$"),Dl=-2147483648,Fl=2147483647,ks=function(n){if(Ol.test(n)){const e=Number(n);if(e>=Dl&&e<=Fl)return e}return null},xt=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw we("Exception was thrown by user callback.",t),e},Math.floor(0))}},zl=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},At=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};class Wl{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){we(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Ul{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(me("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',we(e)}}class ft{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ft.OWNER="owner";const Ti="5",kr="v",Cr="s",Er="r",Nr="f",Ir=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Tr="ls",Sr="p",ai="ac",Rr="websocket",Ar="long_polling";class Pr{constructor(e,t,i,s,r=!1,o="",a=!1,c=!1){this.secure=t,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=et.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&et.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function Bl(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function Mr(n,e,t){b(typeof e=="string","typeof type must == string"),b(typeof t=="object","typeof params must == object");let i;if(e===Rr)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===Ar)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Bl(n)&&(t.ns=n.namespace);const s=[];return ke(t,(r,o)=>{s.push(r+"="+o)}),i+s.join("&")}class Hl{constructor(){this.counters_={}}incrementCounter(e,t=1){ze(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return ha(this.counters_)}}const jn={},Kn={};function Si(n){const e=n.toString();return jn[e]||(jn[e]=new Hl),jn[e]}function Vl(n,e){const t=n.toString();return Kn[t]||(Kn[t]=e()),Kn[t]}class Xl{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&xt(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Cs="start",Gl="close",jl="pLPCommand",Kl="pRTLPCB",Lr="id",Or="pw",Dr="ser",ql="cb",Yl="seg",$l="ts",Ql="d",Jl="dframe",Fr=1870,zr=30,Zl=Fr-zr,ec=25e3,tc=3e4;class ct{constructor(e,t,i,s,r,o,a){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Yt(e),this.stats_=Si(t),this.urlFn=c=>(this.appCheckToken&&(c[ai]=this.appCheckToken),Mr(t,Ar,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Xl(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(tc)),Rl(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ri((...r)=>{const[o,a,c,l,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Cs)this.id=a,this.password=c;else if(o===Gl)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,a]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[Cs]="t",i[Dr]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[ql]=this.scriptTagHolder.uniqueCallbackIdentifier),i[kr]=Ti,this.transportSessionId&&(i[Cr]=this.transportSessionId),this.lastSessionId&&(i[Tr]=this.lastSessionId),this.applicationId&&(i[Sr]=this.applicationId),this.appCheckToken&&(i[ai]=this.appCheckToken),typeof location<"u"&&location.hostname&&Ir.test(location.hostname)&&(i[Er]=Nr);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ct.forceAllow_=!0}static forceDisallow(){ct.forceDisallow_=!0}static isAvailable(){return ct.forceAllow_?!0:!ct.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Pl()&&!Ml()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=le(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=fa(t),s=br(i,Zl);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={};i[Jl]="t",i[Lr]=e,i[Or]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=le(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Ri{constructor(e,t,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Il(),window[jl+this.uniqueCallbackIdentifier]=e,window[Kl+this.uniqueCallbackIdentifier]=t,this.myIFrame=Ri.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){me("frame writing exception"),a.stack&&me(a.stack),me(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||me("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Lr]=this.myID,e[Or]=this.myPW,e[Dr]=this.currentSerial;let t=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+zr+i.length<=Fr;){const o=this.pendingSegs.shift();i=i+"&"+Yl+s+"="+o.seg+"&"+$l+s+"="+o.ts+"&"+Ql+s+"="+o.d,s++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},s=setTimeout(i,Math.floor(ec)),r=()=>{clearTimeout(s),i()};this.addTag(e,r)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{me("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}const nc=16384,ic=45e3;let pn=null;typeof MozWebSocket<"u"?pn=MozWebSocket:typeof WebSocket<"u"&&(pn=WebSocket);class Ie{constructor(e,t,i,s,r,o,a){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Yt(this.connId),this.stats_=Si(t),this.connURL=Ie.connectionURL_(t,o,a,s,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,s,r){const o={};return o[kr]=Ti,typeof location<"u"&&location.hostname&&Ir.test(location.hostname)&&(o[Er]=Nr),t&&(o[Cr]=t),i&&(o[Tr]=i),s&&(o[ai]=s),r&&(o[Sr]=r),Mr(e,Rr,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,et.set("previous_websocket_failure",!0);try{let i;ir(),this.mySock=new pn(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Ie.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&pn!==null&&!Ie.forceDisallow_}static previouslyFailed(){return et.isInMemoryStorage||et.get("previous_websocket_failure")===!0}markConnectionHealthy(){et.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=bi(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(b(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=le(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=br(t,nc);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(ic))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ie.responsesRequiredToBeHealthy=2;Ie.healthyTimeout=3e4;class zt{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ct,Ie]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=Ie&&Ie.isAvailable();let i=t&&!Ie.previouslyFailed();if(e.webSocketOnly&&(t||we("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ie];else{const s=this.transports_=[];for(const r of zt.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);zt.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}zt.globalTransportInitialized_=!1;const sc=6e4,rc=5e3,oc=10*1024,ac=100*1024,qn="t",Es="d",lc="s",Ns="r",cc="e",Is="o",Ts="a",Ss="n",Rs="p",uc="h";class dc{constructor(e,t,i,s,r,o,a,c,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Yt("c:"+this.id+":"),this.transportManager_=new zt(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=At(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>ac?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>oc?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(qn in e){const t=e[qn];t===Ts?this.upgradeIfSecondaryHealthy_():t===Ns?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===Is&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Et("t",e),i=Et("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Rs,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ts,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ss,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Et("t",e),i=Et("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Et(qn,e);if(Es in e){const i=e[Es];if(t===uc){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(t===Ss){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===lc?this.onConnectionShutdown_(i):t===Ns?this.onReset_(i):t===cc?oi("Server Error: "+i):t===Is?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):oi("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Ti!==i&&we("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),At(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(sc))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):At(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(rc))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Rs,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(et.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Wr{put(e,t,i,s){}merge(e,t,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class Ur{constructor(e){this.allowedEvents_=e,this.listeners_={},b(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const s=this.getInitialEvent(e);s&&t.apply(i,s)}off(e,t,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===t&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(e){b(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class mn extends Ur{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!_i()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new mn}getInitialEvent(e){return b(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const As=32,Ps=768;class J{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function q(){return new J("")}function V(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ge(n){return n.pieces_.length-n.pieceNum_}function Z(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new J(n.pieces_,e)}function Br(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function hc(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function Hr(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Vr(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new J(e,0)}function ce(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof J)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&t.push(i[s])}return new J(t,0)}function H(n){return n.pieceNum_>=n.pieces_.length}function ve(n,e){const t=V(n),i=V(e);if(t===null)return e;if(t===i)return ve(Z(n),Z(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Xr(n,e){if(Ge(n)!==Ge(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Te(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Ge(n)>Ge(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class fc{constructor(e,t){this.errorPrefix_=t,this.parts_=Hr(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Tn(this.parts_[i]);Gr(this)}}function pc(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Tn(e),Gr(n)}function mc(n){const e=n.parts_.pop();n.byteLength_-=Tn(e),n.parts_.length>0&&(n.byteLength_-=1)}function Gr(n){if(n.byteLength_>Ps)throw new Error(n.errorPrefix_+"has a key path longer than "+Ps+" bytes ("+n.byteLength_+").");if(n.parts_.length>As)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+As+") or object contains a cycle "+Qe(n))}function Qe(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}class Ai extends Ur{constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Ai}getInitialEvent(e){return b(e==="visible","Unknown event type: "+e),[this.visible_]}}const Nt=1e3,gc=60*5*1e3,Ms=30*1e3,_c=1.3,yc=3e4,vc="server_kill",Ls=3;class Oe extends Wr{constructor(e,t,i,s,r,o,a,c){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=c,this.id=Oe.nextPersistentConnectionId_++,this.log_=Yt("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Nt,this.maxReconnectDelay_=gc,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!ir())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ai.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&mn.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const s=++this.requestNumber_,r={r:s,a:e,b:t};this.log_(le(r)),b(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const t=new ki,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?t.resolve(a):t.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,i,s){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),b(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),b(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:t,query:e,tag:i};this.listens.get(o).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),s=t._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},o="q";e.tag&&(r.q=t._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,a=>{const c=a.d,l=a.s;Oe.warnOnListenWarnings_(c,t),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",a),l!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(l,c))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&ze(e,"w")){const i=mt(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+t._queryParams.getIndex().toString()+'"',r=t._path.toString();we(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||ua(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ms)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=da(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,s=>{const r=s.s,o=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),b(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,t)}sendUnlisten_(e,t,i,s){this.log_("Unlisten on "+e+" for "+t);const r={p:e},o="n";s&&(r.q=i,r.t=s),this.sendRequest(o,r)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,s){const r={p:t,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,t,i,s){this.putInternal("p",e,t,i,s)}merge(e,t,i,s){this.putInternal("m",e,t,i,s)}putInternal(e,t,i,s,r){this.initConnection_();const o={p:t,d:i};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,r=>{this.log_(t+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+le(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):oi("Unrecognized action received from server: "+le(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){b(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Nt,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Nt,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>yc&&(this.reconnectDelay_=Nt),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*_c)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Oe.nextConnectionId_++,r=this.lastSessionId;let o=!1,a=null;const c=function(){a?a.close():(o=!0,i())},l=function(d){b(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:c,sendRequest:l};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,g]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?me("getToken() completed but was canceled"):(me("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=g&&g.token,a=new dc(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,p=>{we(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(vc)},r))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&we(d),c())}}}interrupt(e){me("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){me("Resuming connection for reason: "+e),delete this.interruptReasons_[e],as(this.interruptReasons_)&&(this.reconnectDelay_=Nt,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;t?i=t.map(r=>Ii(r)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,t){const i=new J(e).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(t),r.delete(t),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,t){me("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ls&&(this.reconnectDelay_=Ms,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){me("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ls&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+_r.replace(/\./g,"-")]=1,_i()?e["framework.cordova"]=1:er()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=mn.getInstance().currentlyOnline();return as(this.interruptReasons_)&&e}}Oe.nextPersistentConnectionId_=0;Oe.nextConnectionId_=0;class B{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new B(e,t)}}class Sn{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new B(gt,e),s=new B(gt,t);return this.compare(i,s)!==0}minPost(){return B.MIN}}let on;class jr extends Sn{static get __EMPTY_NODE(){return on}static set __EMPTY_NODE(e){on=e}compare(e,t){return vt(e.name,t.name)}isDefinedOn(e){throw jt("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return B.MIN}maxPost(){return new B(it,on)}makePost(e,t){return b(typeof e=="string","KeyIndex indexValue must always be a string."),new B(e,on)}toString(){return".key"}}const pt=new jr;class an{constructor(e,t,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?i(e.key,t):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class de{constructor(e,t,i,s,r){this.key=e,this.value=t,this.color=i??de.RED,this.left=s??be.EMPTY_NODE,this.right=r??be.EMPTY_NODE}copy(e,t,i,s,r){return new de(e??this.key,t??this.value,i??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const r=i(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,t,i),null):r===0?s=s.copy(null,t,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return be.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,s;if(i=this,t(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return be.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,de.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,de.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}de.RED=!0;de.BLACK=!1;class xc{copy(e,t,i,s,r){return this}insert(e,t,i){return new de(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class be{constructor(e,t=be.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new be(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,de.BLACK,null,null))}remove(e){return new be(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,de.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,s=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new an(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new an(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new an(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new an(this.root_,null,this.comparator_,!0,e)}}be.EMPTY_NODE=new xc;function bc(n,e){return vt(n.name,e.name)}function Pi(n,e){return vt(n,e)}let li;function wc(n){li=n}const Kr=function(n){return typeof n=="number"?"number:"+wr(n):"string:"+n},qr=function(n){if(n.isLeafNode()){const e=n.val();b(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ze(e,".sv"),"Priority must be a string or number.")}else b(n===li||n.isEmpty(),"priority of unexpected type.");b(n===li||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Os;class ue{constructor(e,t=ue.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,b(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),qr(this.priorityNode_)}static set __childrenNodeConstructor(e){Os=e}static get __childrenNodeConstructor(){return Os}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ue(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ue.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return H(e)?this:V(e)===".priority"?this.priorityNode_:ue.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:ue.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=V(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(b(i!==".priority"||Ge(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,ue.__childrenNodeConstructor.EMPTY_NODE.updateChild(Z(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Kr(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=wr(this.value_):e+=this.value_,this.lazyHash_=vr(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ue.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ue.__childrenNodeConstructor?-1:(b(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,s=ue.VALUE_TYPE_ORDER.indexOf(t),r=ue.VALUE_TYPE_ORDER.indexOf(i);return b(s>=0,"Unknown leaf type: "+t),b(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}ue.VALUE_TYPE_ORDER=["object","boolean","number","string"];let Yr,$r;function kc(n){Yr=n}function Cc(n){$r=n}class Ec extends Sn{compare(e,t){const i=e.node.getPriority(),s=t.node.getPriority(),r=i.compareTo(s);return r===0?vt(e.name,t.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return B.MIN}maxPost(){return new B(it,new ue("[PRIORITY-POST]",$r))}makePost(e,t){const i=Yr(e);return new B(t,new ue("[PRIORITY-POST]",i))}toString(){return".priority"}}const se=new Ec;const Nc=Math.log(2);class Ic{constructor(e){const t=r=>parseInt(Math.log(r)/Nc,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const gn=function(n,e,t,i){n.sort(e);const s=function(c,l){const u=l-c;let d,g;if(u===0)return null;if(u===1)return d=n[c],g=t?t(d):d,new de(g,d.node,de.BLACK,null,null);{const p=parseInt(u/2,10)+c,f=s(c,p),_=s(p+1,l);return d=n[p],g=t?t(d):d,new de(g,d.node,de.BLACK,f,_)}},r=function(c){let l=null,u=null,d=n.length;const g=function(f,_){const v=d-f,x=d;d-=f;const T=s(v+1,x),D=n[v],w=t?t(D):D;p(new de(w,D.node,_,null,T))},p=function(f){l?(l.left=f,l=f):(u=f,l=f)};for(let f=0;f<c.count;++f){const _=c.nextBitIsOne(),v=Math.pow(2,c.count-(f+1));_?g(v,de.BLACK):(g(v,de.BLACK),g(v,de.RED))}return u},o=new Ic(n.length),a=r(o);return new be(i||e,a)};let Yn;const lt={};class Le{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return b(lt&&se,"ChildrenNode.ts has not been loaded"),Yn=Yn||new Le({".priority":lt},{".priority":se}),Yn}get(e){const t=mt(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof be?t:null}hasIndex(e){return ze(this.indexSet_,e.toString())}addIndex(e,t){b(e!==pt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=t.getIterator(B.Wrap);let o=r.getNext();for(;o;)s=s||e.isDefinedOn(o.node),i.push(o),o=r.getNext();let a;s?a=gn(i,e.getCompare()):a=lt;const c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;const u=Object.assign({},this.indexes_);return u[c]=a,new Le(u,l)}addToIndexes(e,t){const i=un(this.indexes_,(s,r)=>{const o=mt(this.indexSet_,r);if(b(o,"Missing index implementation for "+r),s===lt)if(o.isDefinedOn(e.node)){const a=[],c=t.getIterator(B.Wrap);let l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),gn(a,o.getCompare())}else return lt;else{const a=t.get(e.name);let c=s;return a&&(c=c.remove(new B(e.name,a))),c.insert(e,e.node)}});return new Le(i,this.indexSet_)}removeFromIndexes(e,t){const i=un(this.indexes_,s=>{if(s===lt)return s;{const r=t.get(e.name);return r?s.remove(new B(e.name,r)):s}});return new Le(i,this.indexSet_)}}let It;class A{constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&qr(this.priorityNode_),this.children_.isEmpty()&&b(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return It||(It=new A(new be(Pi),null,Le.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||It}updatePriority(e){return this.children_.isEmpty()?this:new A(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?It:t}}getChild(e){const t=V(e);return t===null?this:this.getImmediateChild(t).getChild(Z(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(b(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new B(e,t);let s,r;t.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(i,this.children_));const o=s.isEmpty()?It:this.priorityNode_;return new A(s,o,r)}}updateChild(e,t){const i=V(e);if(i===null)return t;{b(V(e)!==".priority"||Ge(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Z(e),t);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,s=0,r=!0;if(this.forEachChild(se,(o,a)=>{t[o]=a.val(e),i++,r&&A.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):r=!1}),!e&&r&&s<2*i){const o=[];for(const a in t)o[a]=t[a];return o}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Kr(this.getPriority().val())+":"),this.forEachChild(se,(t,i)=>{const s=i.hash();s!==""&&(e+=":"+t+":"+s)}),this.lazyHash_=e===""?"":vr(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new B(e,t));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new B(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new B(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>t(s.name,s.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,B.Wrap);let r=s.peek();for(;r!=null&&t.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,B.Wrap);let r=s.peek();for(;r!=null&&t.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===$t?-1:0}withIndex(e){if(e===pt||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new A(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===pt||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const i=this.getIterator(se),s=t.getIterator(se);let r=i.getNext(),o=s.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=i.getNext(),o=s.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===pt?null:this.indexMap_.get(e.toString())}}A.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Tc extends A{constructor(){super(new be(Pi),A.EMPTY_NODE,Le.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return A.EMPTY_NODE}isEmpty(){return!1}}const $t=new Tc;Object.defineProperties(B,{MIN:{value:new B(gt,A.EMPTY_NODE)},MAX:{value:new B(it,$t)}});jr.__EMPTY_NODE=A.EMPTY_NODE;ue.__childrenNodeConstructor=A;wc($t);Cc($t);const Sc=!0;function he(n,e=null){if(n===null)return A.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),b(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new ue(t,he(e))}if(!(n instanceof Array)&&Sc){const t=[];let i=!1;if(ke(n,(o,a)=>{if(o.substring(0,1)!=="."){const c=he(a);c.isEmpty()||(i=i||!c.getPriority().isEmpty(),t.push(new B(o,c)))}}),t.length===0)return A.EMPTY_NODE;const r=gn(t,bc,o=>o.name,Pi);if(i){const o=gn(t,se.getCompare());return new A(r,he(e),new Le({".priority":o},{".priority":se}))}else return new A(r,he(e),Le.Default)}else{let t=A.EMPTY_NODE;return ke(n,(i,s)=>{if(ze(n,i)&&i.substring(0,1)!=="."){const r=he(s);(r.isLeafNode()||!r.isEmpty())&&(t=t.updateImmediateChild(i,r))}}),t.updatePriority(he(e))}}kc(he);class Rc extends Sn{constructor(e){super(),this.indexPath_=e,b(!H(e)&&V(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),s=this.extractChild(t.node),r=i.compareTo(s);return r===0?vt(e.name,t.name):r}makePost(e,t){const i=he(e),s=A.EMPTY_NODE.updateChild(this.indexPath_,i);return new B(t,s)}maxPost(){const e=A.EMPTY_NODE.updateChild(this.indexPath_,$t);return new B(it,e)}toString(){return Hr(this.indexPath_,0).join("/")}}class Ac extends Sn{compare(e,t){const i=e.node.compareTo(t.node);return i===0?vt(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return B.MIN}maxPost(){return B.MAX}makePost(e,t){const i=he(e);return new B(t,i)}toString(){return".value"}}const Pc=new Ac;function Qr(n){return{type:"value",snapshotNode:n}}function _t(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Wt(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Ut(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function Mc(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}class Mi{constructor(e){this.index_=e}updateChild(e,t,i,s,r,o){b(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(s).equals(i.getChild(s))&&a.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(t)?o.trackChildChange(Wt(t,a)):b(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(_t(t,i)):o.trackChildChange(Ut(t,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(se,(s,r)=>{t.hasChild(s)||i.trackChildChange(Wt(s,r))}),t.isLeafNode()||t.forEachChild(se,(s,r)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(r)||i.trackChildChange(Ut(s,r,o))}else i.trackChildChange(_t(s,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?A.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Bt{constructor(e){this.indexedFilter_=new Mi(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Bt.getStartPost_(e),this.endPost_=Bt.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,s,r,o){return this.matches(new B(t,i))||(i=A.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,s,r,o)}updateFullNode(e,t,i){t.isLeafNode()&&(t=A.EMPTY_NODE);let s=t.withIndex(this.index_);s=s.updatePriority(A.EMPTY_NODE);const r=this;return t.forEachChild(se,(o,a)=>{r.matches(new B(o,a))||(s=s.updateImmediateChild(o,A.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}class Lc{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Bt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,s,r,o){return this.rangedFilter_.matches(new B(t,i))||(i=A.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,s,r,o):this.fullLimitUpdateChild_(e,t,i,r,o)}updateFullNode(e,t,i){let s;if(t.isLeafNode()||t.isEmpty())s=A.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){s=A.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const a=r.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=t.withIndex(this.index_),s=s.updatePriority(A.EMPTY_NODE);let r;this.reverse_?r=s.getReverseIterator(this.index_):r=s.getIterator(this.index_);let o=0;for(;r.hasNext();){const a=r.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,A.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,s,r){let o;if(this.reverse_){const d=this.index_.getCompare();o=(g,p)=>d(p,g)}else o=this.index_.getCompare();const a=e;b(a.numChildren()===this.limit_,"");const c=new B(t,i),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(t)){const d=a.getImmediateChild(t);let g=s.getChildAfterChild(this.index_,l,this.reverse_);for(;g!=null&&(g.name===t||a.hasChild(g.name));)g=s.getChildAfterChild(this.index_,g,this.reverse_);const p=g==null?1:o(g,c);if(u&&!i.isEmpty()&&p>=0)return r!=null&&r.trackChildChange(Ut(t,i,d)),a.updateImmediateChild(t,i);{r!=null&&r.trackChildChange(Wt(t,d));const _=a.updateImmediateChild(t,A.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(r!=null&&r.trackChildChange(_t(g.name,g.node)),_.updateImmediateChild(g.name,g.node)):_}}else return i.isEmpty()?e:u&&o(l,c)>=0?(r!=null&&(r.trackChildChange(Wt(l.name,l.node)),r.trackChildChange(_t(t,i))),a.updateImmediateChild(t,i).updateImmediateChild(l.name,A.EMPTY_NODE)):e}}class Li{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=se}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return b(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return b(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:gt}hasEnd(){return this.endSet_}getIndexEndValue(){return b(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return b(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:it}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return b(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===se}copy(){const e=new Li;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Oc(n){return n.loadsAllData()?new Mi(n.getIndex()):n.hasLimit()?new Lc(n):new Bt(n)}function Ds(n){const e={};if(n.isDefault())return e;let t;if(n.index_===se?t="$priority":n.index_===Pc?t="$value":n.index_===pt?t="$key":(b(n.index_ instanceof Rc,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=le(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=le(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+le(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=le(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+le(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Fs(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==se&&(e.i=n.index_.toString()),e}class _n extends Wr{constructor(e,t,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Yt("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(b(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=_n.getListenId_(e,i),a={};this.listens_[o]=a;const c=Ds(e._queryParams);this.restRequest_(r+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(r,d,!1,i),mt(this.listens_,o)===a){let g;l?l===401?g="permission_denied":g="rest_error:"+l:g="ok",s(g,null)}})}unlisten(e,t){const i=_n.getListenId_(e,t);delete this.listens_[i]}get(e){const t=Ds(e._queryParams),i=e._path.toString(),s=new ki;return this.restRequest_(i+".json",t,(r,o)=>{let a=o;r===404&&(a=null,r=null),r===null?(this.onDataUpdate_(i,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(t.auth=s.accessToken),r&&r.token&&(t.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+xi(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=bi(a.responseText)}catch{we("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,c)}else a.status!==401&&a.status!==404&&we("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}class Dc{constructor(){this.rootNode_=A.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function yn(){return{value:null,children:new Map}}function Jr(n,e,t){if(H(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const i=V(e);n.children.has(i)||n.children.set(i,yn());const s=n.children.get(i);e=Z(e),Jr(s,e,t)}}function ci(n,e,t){n.value!==null?t(e,n.value):Fc(n,(i,s)=>{const r=new J(e.toString()+"/"+i);ci(s,r,t)})}function Fc(n,e){n.children.forEach((t,i)=>{e(i,t)})}class zc{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&ke(this.last_,(i,s)=>{t[i]=t[i]-s}),this.last_=e,t}}const zs=10*1e3,Wc=30*1e3,Uc=5*60*1e3;class Bc{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new zc(e);const i=zs+(Wc-zs)*Math.random();At(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;ke(e,(s,r)=>{r>0&&ze(this.statsToReport_,s)&&(t[s]=r,i=!0)}),i&&this.server_.reportStats(t),At(this.reportStats_.bind(this),Math.floor(Math.random()*2*Uc))}}var Se;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Se||(Se={}));function Zr(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Oi(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Di(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class vn{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Se.ACK_USER_WRITE,this.source=Zr()}operationForChild(e){if(H(this.path)){if(this.affectedTree.value!=null)return b(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new J(e));return new vn(q(),t,this.revert)}}else return b(V(this.path)===e,"operationForChild called for unrelated child."),new vn(Z(this.path),this.affectedTree,this.revert)}}class Ht{constructor(e,t){this.source=e,this.path=t,this.type=Se.LISTEN_COMPLETE}operationForChild(e){return H(this.path)?new Ht(this.source,q()):new Ht(this.source,Z(this.path))}}class st{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Se.OVERWRITE}operationForChild(e){return H(this.path)?new st(this.source,q(),this.snap.getImmediateChild(e)):new st(this.source,Z(this.path),this.snap)}}class Vt{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Se.MERGE}operationForChild(e){if(H(this.path)){const t=this.children.subtree(new J(e));return t.isEmpty()?null:t.value?new st(this.source,q(),t.value):new Vt(this.source,q(),t)}else return b(V(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Vt(this.source,Z(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class je{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(H(e))return this.isFullyInitialized()&&!this.filtered_;const t=V(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Hc{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Vc(n,e,t,i){const s=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(Mc(o.childName,o.snapshotNode))}),Tt(n,s,"child_removed",e,i,t),Tt(n,s,"child_added",e,i,t),Tt(n,s,"child_moved",r,i,t),Tt(n,s,"child_changed",e,i,t),Tt(n,s,"value",e,i,t),s}function Tt(n,e,t,i,s,r){const o=i.filter(a=>a.type===t);o.sort((a,c)=>Gc(n,a,c)),o.forEach(a=>{const c=Xc(n,a,r);s.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,n.query_))})})}function Xc(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function Gc(n,e,t){if(e.childName==null||t.childName==null)throw jt("Should only compare child_ events.");const i=new B(e.childName,e.snapshotNode),s=new B(t.childName,t.snapshotNode);return n.index_.compare(i,s)}function Rn(n,e){return{eventCache:n,serverCache:e}}function Pt(n,e,t,i){return Rn(new je(e,t,i),n.serverCache)}function eo(n,e,t,i){return Rn(n.eventCache,new je(e,t,i))}function xn(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function rt(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let $n;const jc=()=>($n||($n=new be(Al)),$n);class ee{constructor(e,t=jc()){this.value=e,this.children=t}static fromObject(e){let t=new ee(null);return ke(e,(i,s)=>{t=t.set(new J(i),s)}),t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:q(),value:this.value};if(H(e))return null;{const i=V(e),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(Z(e),t);return r!=null?{path:ce(new J(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(H(e))return this;{const t=V(e),i=this.children.get(t);return i!==null?i.subtree(Z(e)):new ee(null)}}set(e,t){if(H(e))return new ee(t,this.children);{const i=V(e),r=(this.children.get(i)||new ee(null)).set(Z(e),t),o=this.children.insert(i,r);return new ee(this.value,o)}}remove(e){if(H(e))return this.children.isEmpty()?new ee(null):new ee(null,this.children);{const t=V(e),i=this.children.get(t);if(i){const s=i.remove(Z(e));let r;return s.isEmpty()?r=this.children.remove(t):r=this.children.insert(t,s),this.value===null&&r.isEmpty()?new ee(null):new ee(this.value,r)}else return this}}get(e){if(H(e))return this.value;{const t=V(e),i=this.children.get(t);return i?i.get(Z(e)):null}}setTree(e,t){if(H(e))return t;{const i=V(e),r=(this.children.get(i)||new ee(null)).setTree(Z(e),t);let o;return r.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,r),new ee(this.value,o)}}fold(e){return this.fold_(q(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(ce(e,s),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,q(),t)}findOnPath_(e,t,i){const s=this.value?i(t,this.value):!1;if(s)return s;if(H(e))return null;{const r=V(e),o=this.children.get(r);return o?o.findOnPath_(Z(e),ce(t,r),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,q(),t)}foreachOnPath_(e,t,i){if(H(e))return this;{this.value&&i(t,this.value);const s=V(e),r=this.children.get(s);return r?r.foreachOnPath_(Z(e),ce(t,s),i):new ee(null)}}foreach(e){this.foreach_(q(),e)}foreach_(e,t){this.children.inorderTraversal((i,s)=>{s.foreach_(ce(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Re{constructor(e){this.writeTree_=e}static empty(){return new Re(new ee(null))}}function Mt(n,e,t){if(H(e))return new Re(new ee(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let r=i.value;const o=ve(s,e);return r=r.updateChild(o,t),new Re(n.writeTree_.set(s,r))}else{const s=new ee(t),r=n.writeTree_.setTree(e,s);return new Re(r)}}}function Ws(n,e,t){let i=n;return ke(t,(s,r)=>{i=Mt(i,ce(e,s),r)}),i}function Us(n,e){if(H(e))return Re.empty();{const t=n.writeTree_.setTree(e,new ee(null));return new Re(t)}}function ui(n,e){return ot(n,e)!=null}function ot(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(ve(t.path,e)):null}function Bs(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(se,(i,s)=>{e.push(new B(i,s))}):n.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new B(i,s.value))}),e}function Ve(n,e){if(H(e))return n;{const t=ot(n,e);return t!=null?new Re(new ee(t)):new Re(n.writeTree_.subtree(e))}}function di(n){return n.writeTree_.isEmpty()}function yt(n,e){return to(q(),n.writeTree_,e)}function to(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?(b(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):t=to(ce(n,s),r,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(ce(n,".priority"),i)),t}}function An(n,e){return ro(e,n)}function Kc(n,e,t,i,s){b(i>n.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:s}),s&&(n.visibleWrites=Mt(n.visibleWrites,e,t)),n.lastWriteId=i}function qc(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}function Yc(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);b(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let s=i.visible,r=!1,o=n.allWrites.length-1;for(;s&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&$c(a,i.path)?s=!1:Te(i.path,a.path)&&(r=!0)),o--}if(s){if(r)return Qc(n),!0;if(i.snap)n.visibleWrites=Us(n.visibleWrites,i.path);else{const a=i.children;ke(a,c=>{n.visibleWrites=Us(n.visibleWrites,ce(i.path,c))})}return!0}else return!1}function $c(n,e){if(n.snap)return Te(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Te(ce(n.path,t),e))return!0;return!1}function Qc(n){n.visibleWrites=no(n.allWrites,Jc,q()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function Jc(n){return n.visible}function no(n,e,t){let i=Re.empty();for(let s=0;s<n.length;++s){const r=n[s];if(e(r)){const o=r.path;let a;if(r.snap)Te(t,o)?(a=ve(t,o),i=Mt(i,a,r.snap)):Te(o,t)&&(a=ve(o,t),i=Mt(i,q(),r.snap.getChild(a)));else if(r.children){if(Te(t,o))a=ve(t,o),i=Ws(i,a,r.children);else if(Te(o,t))if(a=ve(o,t),H(a))i=Ws(i,q(),r.children);else{const c=mt(r.children,V(a));if(c){const l=c.getChild(Z(a));i=Mt(i,q(),l)}}}else throw jt("WriteRecord should have .snap or .children")}}return i}function io(n,e,t,i,s){if(!i&&!s){const r=ot(n.visibleWrites,e);if(r!=null)return r;{const o=Ve(n.visibleWrites,e);if(di(o))return t;if(t==null&&!ui(o,q()))return null;{const a=t||A.EMPTY_NODE;return yt(o,a)}}}else{const r=Ve(n.visibleWrites,e);if(!s&&di(r))return t;if(!s&&t==null&&!ui(r,q()))return null;{const o=function(l){return(l.visible||s)&&(!i||!~i.indexOf(l.writeId))&&(Te(l.path,e)||Te(e,l.path))},a=no(n.allWrites,o,e),c=t||A.EMPTY_NODE;return yt(a,c)}}}function Zc(n,e,t){let i=A.EMPTY_NODE;const s=ot(n.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(se,(r,o)=>{i=i.updateImmediateChild(r,o)}),i;if(t){const r=Ve(n.visibleWrites,e);return t.forEachChild(se,(o,a)=>{const c=yt(Ve(r,new J(o)),a);i=i.updateImmediateChild(o,c)}),Bs(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const r=Ve(n.visibleWrites,e);return Bs(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function eu(n,e,t,i,s){b(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=ce(e,t);if(ui(n.visibleWrites,r))return null;{const o=Ve(n.visibleWrites,r);return di(o)?s.getChild(t):yt(o,s.getChild(t))}}function tu(n,e,t,i){const s=ce(e,t),r=ot(n.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(t)){const o=Ve(n.visibleWrites,s);return yt(o,i.getNode().getImmediateChild(t))}else return null}function nu(n,e){return ot(n.visibleWrites,e)}function iu(n,e,t,i,s,r,o){let a;const c=Ve(n.visibleWrites,e),l=ot(c,q());if(l!=null)a=l;else if(t!=null)a=yt(c,t);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),g=r?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let p=g.getNext();for(;p&&u.length<s;)d(p,i)!==0&&u.push(p),p=g.getNext();return u}else return[]}function su(){return{visibleWrites:Re.empty(),allWrites:[],lastWriteId:-1}}function bn(n,e,t,i){return io(n.writeTree,n.treePath,e,t,i)}function Fi(n,e){return Zc(n.writeTree,n.treePath,e)}function Hs(n,e,t,i){return eu(n.writeTree,n.treePath,e,t,i)}function wn(n,e){return nu(n.writeTree,ce(n.treePath,e))}function ru(n,e,t,i,s,r){return iu(n.writeTree,n.treePath,e,t,i,s,r)}function zi(n,e,t){return tu(n.writeTree,n.treePath,e,t)}function so(n,e){return ro(ce(n.treePath,e),n.writeTree)}function ro(n,e){return{treePath:n,writeTree:e}}class ou{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;b(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),b(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(t==="child_added"&&r==="child_removed")this.changeMap.set(i,Ut(i,e.snapshotNode,s.snapshotNode));else if(t==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&r==="child_changed")this.changeMap.set(i,Wt(i,s.oldSnap));else if(t==="child_changed"&&r==="child_added")this.changeMap.set(i,_t(i,e.snapshotNode));else if(t==="child_changed"&&r==="child_changed")this.changeMap.set(i,Ut(i,e.snapshotNode,s.oldSnap));else throw jt("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}class au{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}}const oo=new au;class Wi{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new je(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return zi(this.writes_,e,i)}}getChildAfterChild(e,t,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:rt(this.viewCache_),r=ru(this.writes_,s,t,1,i,e);return r.length===0?null:r[0]}}function lu(n){return{filter:n}}function cu(n,e){b(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),b(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function uu(n,e,t,i,s){const r=new ou;let o,a;if(t.type===Se.OVERWRITE){const l=t;l.source.fromUser?o=hi(n,e,l.path,l.snap,i,s,r):(b(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!H(l.path),o=kn(n,e,l.path,l.snap,i,s,a,r))}else if(t.type===Se.MERGE){const l=t;l.source.fromUser?o=hu(n,e,l.path,l.children,i,s,r):(b(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),o=fi(n,e,l.path,l.children,i,s,a,r))}else if(t.type===Se.ACK_USER_WRITE){const l=t;l.revert?o=mu(n,e,l.path,i,s,r):o=fu(n,e,l.path,l.affectedTree,i,s,r)}else if(t.type===Se.LISTEN_COMPLETE)o=pu(n,e,t.path,i,r);else throw jt("Unknown operation type: "+t.type);const c=r.getChanges();return du(e,o,c),{viewCache:o,changes:c}}function du(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=xn(n);(t.length>0||!n.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&t.push(Qr(xn(e)))}}function ao(n,e,t,i,s,r){const o=e.eventCache;if(wn(i,t)!=null)return e;{let a,c;if(H(t))if(b(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const l=rt(e),u=l instanceof A?l:A.EMPTY_NODE,d=Fi(i,u);a=n.filter.updateFullNode(e.eventCache.getNode(),d,r)}else{const l=bn(i,rt(e));a=n.filter.updateFullNode(e.eventCache.getNode(),l,r)}else{const l=V(t);if(l===".priority"){b(Ge(t)===1,"Can't have a priority with additional path components");const u=o.getNode();c=e.serverCache.getNode();const d=Hs(i,t,u,c);d!=null?a=n.filter.updatePriority(u,d):a=o.getNode()}else{const u=Z(t);let d;if(o.isCompleteForChild(l)){c=e.serverCache.getNode();const g=Hs(i,t,o.getNode(),c);g!=null?d=o.getNode().getImmediateChild(l).updateChild(u,g):d=o.getNode().getImmediateChild(l)}else d=zi(i,l,e.serverCache);d!=null?a=n.filter.updateChild(o.getNode(),l,d,u,s,r):a=o.getNode()}}return Pt(e,a,o.isFullyInitialized()||H(t),n.filter.filtersNodes())}}function kn(n,e,t,i,s,r,o,a){const c=e.serverCache;let l;const u=o?n.filter:n.filter.getIndexedFilter();if(H(t))l=u.updateFullNode(c.getNode(),i,null);else if(u.filtersNodes()&&!c.isFiltered()){const p=c.getNode().updateChild(t,i);l=u.updateFullNode(c.getNode(),p,null)}else{const p=V(t);if(!c.isCompleteForPath(t)&&Ge(t)>1)return e;const f=Z(t),v=c.getNode().getImmediateChild(p).updateChild(f,i);p===".priority"?l=u.updatePriority(c.getNode(),v):l=u.updateChild(c.getNode(),p,v,f,oo,null)}const d=eo(e,l,c.isFullyInitialized()||H(t),u.filtersNodes()),g=new Wi(s,d,r);return ao(n,d,t,s,g,a)}function hi(n,e,t,i,s,r,o){const a=e.eventCache;let c,l;const u=new Wi(s,e,r);if(H(t))l=n.filter.updateFullNode(e.eventCache.getNode(),i,o),c=Pt(e,l,!0,n.filter.filtersNodes());else{const d=V(t);if(d===".priority")l=n.filter.updatePriority(e.eventCache.getNode(),i),c=Pt(e,l,a.isFullyInitialized(),a.isFiltered());else{const g=Z(t),p=a.getNode().getImmediateChild(d);let f;if(H(g))f=i;else{const _=u.getCompleteChild(d);_!=null?Br(g)===".priority"&&_.getChild(Vr(g)).isEmpty()?f=_:f=_.updateChild(g,i):f=A.EMPTY_NODE}if(p.equals(f))c=e;else{const _=n.filter.updateChild(a.getNode(),d,f,g,u,o);c=Pt(e,_,a.isFullyInitialized(),n.filter.filtersNodes())}}}return c}function Vs(n,e){return n.eventCache.isCompleteForChild(e)}function hu(n,e,t,i,s,r,o){let a=e;return i.foreach((c,l)=>{const u=ce(t,c);Vs(e,V(u))&&(a=hi(n,a,u,l,s,r,o))}),i.foreach((c,l)=>{const u=ce(t,c);Vs(e,V(u))||(a=hi(n,a,u,l,s,r,o))}),a}function Xs(n,e,t){return t.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function fi(n,e,t,i,s,r,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;H(t)?l=i:l=new ee(null).setTree(t,i);const u=e.serverCache.getNode();return l.children.inorderTraversal((d,g)=>{if(u.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),f=Xs(n,p,g);c=kn(n,c,new J(d),f,s,r,o,a)}}),l.children.inorderTraversal((d,g)=>{const p=!e.serverCache.isCompleteForChild(d)&&g.value===null;if(!u.hasChild(d)&&!p){const f=e.serverCache.getNode().getImmediateChild(d),_=Xs(n,f,g);c=kn(n,c,new J(d),_,s,r,o,a)}}),c}function fu(n,e,t,i,s,r,o){if(wn(s,t)!=null)return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(i.value!=null){if(H(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return kn(n,e,t,c.getNode().getChild(t),s,r,a,o);if(H(t)){let l=new ee(null);return c.getNode().forEachChild(pt,(u,d)=>{l=l.set(new J(u),d)}),fi(n,e,t,l,s,r,a,o)}else return e}else{let l=new ee(null);return i.foreach((u,d)=>{const g=ce(t,u);c.isCompleteForPath(g)&&(l=l.set(u,c.getNode().getChild(g)))}),fi(n,e,t,l,s,r,a,o)}}function pu(n,e,t,i,s){const r=e.serverCache,o=eo(e,r.getNode(),r.isFullyInitialized()||H(t),r.isFiltered());return ao(n,o,t,i,oo,s)}function mu(n,e,t,i,s,r){let o;if(wn(i,t)!=null)return e;{const a=new Wi(i,e,s),c=e.eventCache.getNode();let l;if(H(t)||V(t)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=bn(i,rt(e));else{const d=e.serverCache.getNode();b(d instanceof A,"serverChildren would be complete if leaf node"),u=Fi(i,d)}u=u,l=n.filter.updateFullNode(c,u,r)}else{const u=V(t);let d=zi(i,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=n.filter.updateChild(c,u,d,Z(t),a,r):e.eventCache.getNode().hasChild(u)?l=n.filter.updateChild(c,u,A.EMPTY_NODE,Z(t),a,r):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=bn(i,rt(e)),o.isLeafNode()&&(l=n.filter.updateFullNode(l,o,r)))}return o=e.serverCache.isFullyInitialized()||wn(i,q())!=null,Pt(e,l,o,n.filter.filtersNodes())}}class gu{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new Mi(i.getIndex()),r=Oc(i);this.processor_=lu(r);const o=t.serverCache,a=t.eventCache,c=s.updateFullNode(A.EMPTY_NODE,o.getNode(),null),l=r.updateFullNode(A.EMPTY_NODE,a.getNode(),null),u=new je(c,o.isFullyInitialized(),s.filtersNodes()),d=new je(l,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=Rn(d,u),this.eventGenerator_=new Hc(this.query_)}get query(){return this.query_}}function _u(n){return n.viewCache_.serverCache.getNode()}function yu(n){return xn(n.viewCache_)}function vu(n,e){const t=rt(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!H(e)&&!t.getImmediateChild(V(e)).isEmpty())?t.getChild(e):null}function Gs(n){return n.eventRegistrations_.length===0}function xu(n,e){n.eventRegistrations_.push(e)}function js(n,e,t){const i=[];if(t){b(e==null,"A cancel should cancel all event registrations.");const s=n.query._path;n.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(t,s);o&&i.push(o)})}if(e){let s=[];for(let r=0;r<n.eventRegistrations_.length;++r){const o=n.eventRegistrations_[r];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(n.eventRegistrations_.slice(r+1));break}}n.eventRegistrations_=s}else n.eventRegistrations_=[];return i}function Ks(n,e,t,i){e.type===Se.MERGE&&e.source.queryId!==null&&(b(rt(n.viewCache_),"We should always have a full cache before handling merges"),b(xn(n.viewCache_),"Missing event cache, even though we have a server cache"));const s=n.viewCache_,r=uu(n.processor_,s,e,t,i);return cu(n.processor_,r.viewCache),b(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=r.viewCache,lo(n,r.changes,r.viewCache.eventCache.getNode(),null)}function bu(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(se,(r,o)=>{i.push(_t(r,o))}),t.isFullyInitialized()&&i.push(Qr(t.getNode())),lo(n,i,t.getNode(),e)}function lo(n,e,t,i){const s=i?[i]:n.eventRegistrations_;return Vc(n.eventGenerator_,e,t,s)}let Cn;class co{constructor(){this.views=new Map}}function wu(n){b(!Cn,"__referenceConstructor has already been defined"),Cn=n}function ku(){return b(Cn,"Reference.ts has not been loaded"),Cn}function Cu(n){return n.views.size===0}function Ui(n,e,t,i){const s=e.source.queryId;if(s!==null){const r=n.views.get(s);return b(r!=null,"SyncTree gave us an op for an invalid query."),Ks(r,e,t,i)}else{let r=[];for(const o of n.views.values())r=r.concat(Ks(o,e,t,i));return r}}function uo(n,e,t,i,s){const r=e._queryIdentifier,o=n.views.get(r);if(!o){let a=bn(t,s?i:null),c=!1;a?c=!0:i instanceof A?(a=Fi(t,i),c=!1):(a=A.EMPTY_NODE,c=!1);const l=Rn(new je(a,c,!1),new je(i,s,!1));return new gu(e,l)}return o}function Eu(n,e,t,i,s,r){const o=uo(n,e,i,s,r);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,o),xu(o,t),bu(o,t)}function Nu(n,e,t,i){const s=e._queryIdentifier,r=[];let o=[];const a=Ke(n);if(s==="default")for(const[c,l]of n.views.entries())o=o.concat(js(l,t,i)),Gs(l)&&(n.views.delete(c),l.query._queryParams.loadsAllData()||r.push(l.query));else{const c=n.views.get(s);c&&(o=o.concat(js(c,t,i)),Gs(c)&&(n.views.delete(s),c.query._queryParams.loadsAllData()||r.push(c.query)))}return a&&!Ke(n)&&r.push(new(ku())(e._repo,e._path)),{removed:r,events:o}}function ho(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Xe(n,e){let t=null;for(const i of n.views.values())t=t||vu(i,e);return t}function fo(n,e){if(e._queryParams.loadsAllData())return Pn(n);{const i=e._queryIdentifier;return n.views.get(i)}}function po(n,e){return fo(n,e)!=null}function Ke(n){return Pn(n)!=null}function Pn(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let En;function Iu(n){b(!En,"__referenceConstructor has already been defined"),En=n}function Tu(){return b(En,"Reference.ts has not been loaded"),En}let Su=1;class qs{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ee(null),this.pendingWriteTree_=su(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function mo(n,e,t,i,s){return Kc(n.pendingWriteTree_,e,t,i,s),s?Jt(n,new st(Zr(),e,t)):[]}function tt(n,e,t=!1){const i=qc(n.pendingWriteTree_,e);if(Yc(n.pendingWriteTree_,e)){let r=new ee(null);return i.snap!=null?r=r.set(q(),!0):ke(i.children,o=>{r=r.set(new J(o),!0)}),Jt(n,new vn(i.path,r,t))}else return[]}function Qt(n,e,t){return Jt(n,new st(Oi(),e,t))}function Ru(n,e,t){const i=ee.fromObject(t);return Jt(n,new Vt(Oi(),e,i))}function Au(n,e){return Jt(n,new Ht(Oi(),e))}function Pu(n,e,t){const i=Hi(n,t);if(i){const s=Vi(i),r=s.path,o=s.queryId,a=ve(r,e),c=new Ht(Di(o),a);return Xi(n,r,c)}else return[]}function go(n,e,t,i,s=!1){const r=e._path,o=n.syncPointTree_.get(r);let a=[];if(o&&(e._queryIdentifier==="default"||po(o,e))){const c=Nu(o,e,t,i);Cu(o)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const l=c.removed;if(a=c.events,!s){const u=l.findIndex(g=>g._queryParams.loadsAllData())!==-1,d=n.syncPointTree_.findOnPath(r,(g,p)=>Ke(p));if(u&&!d){const g=n.syncPointTree_.subtree(r);if(!g.isEmpty()){const p=Du(g);for(let f=0;f<p.length;++f){const _=p[f],v=_.query,x=xo(n,_);n.listenProvider_.startListening(Lt(v),Xt(n,v),x.hashFn,x.onComplete)}}}!d&&l.length>0&&!i&&(u?n.listenProvider_.stopListening(Lt(e),null):l.forEach(g=>{const p=n.queryToTagMap.get(Mn(g));n.listenProvider_.stopListening(Lt(g),p)}))}Fu(n,l)}return a}function _o(n,e,t,i){const s=Hi(n,i);if(s!=null){const r=Vi(s),o=r.path,a=r.queryId,c=ve(o,e),l=new st(Di(a),c,t);return Xi(n,o,l)}else return[]}function Mu(n,e,t,i){const s=Hi(n,i);if(s){const r=Vi(s),o=r.path,a=r.queryId,c=ve(o,e),l=ee.fromObject(t),u=new Vt(Di(a),c,l);return Xi(n,o,u)}else return[]}function Lu(n,e,t,i=!1){const s=e._path;let r=null,o=!1;n.syncPointTree_.foreachOnPath(s,(g,p)=>{const f=ve(g,s);r=r||Xe(p,f),o=o||Ke(p)});let a=n.syncPointTree_.get(s);a?(o=o||Ke(a),r=r||Xe(a,q())):(a=new co,n.syncPointTree_=n.syncPointTree_.set(s,a));let c;r!=null?c=!0:(c=!1,r=A.EMPTY_NODE,n.syncPointTree_.subtree(s).foreachChild((p,f)=>{const _=Xe(f,q());_&&(r=r.updateImmediateChild(p,_))}));const l=po(a,e);if(!l&&!e._queryParams.loadsAllData()){const g=Mn(e);b(!n.queryToTagMap.has(g),"View does not exist, but we have a tag");const p=zu();n.queryToTagMap.set(g,p),n.tagToQueryMap.set(p,g)}const u=An(n.pendingWriteTree_,s);let d=Eu(a,e,t,u,r,c);if(!l&&!o&&!i){const g=fo(a,e);d=d.concat(Wu(n,e,g))}return d}function Bi(n,e,t){const s=n.pendingWriteTree_,r=n.syncPointTree_.findOnPath(e,(o,a)=>{const c=ve(o,e),l=Xe(a,c);if(l)return l});return io(s,e,r,t,!0)}function Ou(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(l,u)=>{const d=ve(l,t);i=i||Xe(u,d)});let s=n.syncPointTree_.get(t);s?i=i||Xe(s,q()):(s=new co,n.syncPointTree_=n.syncPointTree_.set(t,s));const r=i!=null,o=r?new je(i,!0,!1):null,a=An(n.pendingWriteTree_,e._path),c=uo(s,e,a,r?o.getNode():A.EMPTY_NODE,r);return yu(c)}function Jt(n,e){return yo(e,n.syncPointTree_,null,An(n.pendingWriteTree_,q()))}function yo(n,e,t,i){if(H(n.path))return vo(n,e,t,i);{const s=e.get(q());t==null&&s!=null&&(t=Xe(s,q()));let r=[];const o=V(n.path),a=n.operationForChild(o),c=e.children.get(o);if(c&&a){const l=t?t.getImmediateChild(o):null,u=so(i,o);r=r.concat(yo(a,c,l,u))}return s&&(r=r.concat(Ui(s,n,i,t))),r}}function vo(n,e,t,i){const s=e.get(q());t==null&&s!=null&&(t=Xe(s,q()));let r=[];return e.children.inorderTraversal((o,a)=>{const c=t?t.getImmediateChild(o):null,l=so(i,o),u=n.operationForChild(o);u&&(r=r.concat(vo(u,a,c,l)))}),s&&(r=r.concat(Ui(s,n,i,t))),r}function xo(n,e){const t=e.query,i=Xt(n,t);return{hashFn:()=>(_u(e)||A.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?Pu(n,t._path,i):Au(n,t._path);{const r=Ll(s,t);return go(n,t,null,r)}}}}function Xt(n,e){const t=Mn(e);return n.queryToTagMap.get(t)}function Mn(n){return n._path.toString()+"$"+n._queryIdentifier}function Hi(n,e){return n.tagToQueryMap.get(e)}function Vi(n){const e=n.indexOf("$");return b(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new J(n.substr(0,e))}}function Xi(n,e,t){const i=n.syncPointTree_.get(e);b(i,"Missing sync point for query tag that we're tracking");const s=An(n.pendingWriteTree_,e);return Ui(i,t,s,null)}function Du(n){return n.fold((e,t,i)=>{if(t&&Ke(t))return[Pn(t)];{let s=[];return t&&(s=ho(t)),ke(i,(r,o)=>{s=s.concat(o)}),s}})}function Lt(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(Tu())(n._repo,n._path):n}function Fu(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const s=Mn(i),r=n.queryToTagMap.get(s);n.queryToTagMap.delete(s),n.tagToQueryMap.delete(r)}}}function zu(){return Su++}function Wu(n,e,t){const i=e._path,s=Xt(n,e),r=xo(n,t),o=n.listenProvider_.startListening(Lt(e),s,r.hashFn,r.onComplete),a=n.syncPointTree_.subtree(i);if(s)b(!Ke(a.value),"If we're adding a query, it shouldn't be shadowed");else{const c=a.fold((l,u,d)=>{if(!H(l)&&u&&Ke(u))return[Pn(u).query];{let g=[];return u&&(g=g.concat(ho(u).map(p=>p.query))),ke(d,(p,f)=>{g=g.concat(f)}),g}});for(let l=0;l<c.length;++l){const u=c[l];n.listenProvider_.stopListening(Lt(u),Xt(n,u))}}return o}class Gi{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Gi(t)}node(){return this.node_}}class ji{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=ce(this.path_,e);return new ji(this.syncTree_,t)}node(){return Bi(this.syncTree_,this.path_)}}const Uu=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},Ys=function(n,e,t){if(!n||typeof n!="object")return n;if(b(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return Bu(n[".sv"],e,t);if(typeof n[".sv"]=="object")return Hu(n[".sv"],e);b(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},Bu=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:b(!1,"Unexpected server value: "+n)}},Hu=function(n,e,t){n.hasOwnProperty("increment")||b(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&b(!1,"Unexpected increment value: "+i);const s=e.node();if(b(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const o=s.getValue();return typeof o!="number"?i:o+i},Vu=function(n,e,t,i){return Ki(e,new ji(t,n),i)},bo=function(n,e,t){return Ki(n,new Gi(e),t)};function Ki(n,e,t){const i=n.getPriority().val(),s=Ys(i,e.getImmediateChild(".priority"),t);let r;if(n.isLeafNode()){const o=n,a=Ys(o.getValue(),e,t);return a!==o.getValue()||s!==o.getPriority().val()?new ue(a,he(s)):n}else{const o=n;return r=o,s!==o.getPriority().val()&&(r=r.updatePriority(new ue(s))),o.forEachChild(se,(a,c)=>{const l=Ki(c,e.getImmediateChild(a),t);l!==c&&(r=r.updateImmediateChild(a,l))}),r}}class qi{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function Yi(n,e){let t=e instanceof J?e:new J(e),i=n,s=V(t);for(;s!==null;){const r=mt(i.node.children,s)||{children:{},childCount:0};i=new qi(s,i,r),t=Z(t),s=V(t)}return i}function bt(n){return n.node.value}function wo(n,e){n.node.value=e,pi(n)}function ko(n){return n.node.childCount>0}function Xu(n){return bt(n)===void 0&&!ko(n)}function Ln(n,e){ke(n.node.children,(t,i)=>{e(new qi(t,n,i))})}function Co(n,e,t,i){t&&!i&&e(n),Ln(n,s=>{Co(s,e,!0,i)}),t&&i&&e(n)}function Gu(n,e,t){let i=t?n:n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Zt(n){return new J(n.parent===null?n.name:Zt(n.parent)+"/"+n.name)}function pi(n){n.parent!==null&&ju(n.parent,n.name,n)}function ju(n,e,t){const i=Xu(t),s=ze(n.node.children,e);i&&s?(delete n.node.children[e],n.node.childCount--,pi(n)):!i&&!s&&(n.node.children[e]=t.node,n.node.childCount++,pi(n))}const Ku=/[\[\].#$\/\u0000-\u001F\u007F]/,qu=/[\[\].#$\u0000-\u001F\u007F]/,Qn=10*1024*1024,Eo=function(n){return typeof n=="string"&&n.length!==0&&!Ku.test(n)},No=function(n){return typeof n=="string"&&n.length!==0&&!qu.test(n)},Yu=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),No(n)},$u=function(n,e,t,i){i&&e===void 0||$i(wi(n,"value"),e,t)},$i=function(n,e,t){const i=t instanceof J?new fc(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Qe(i));if(typeof e=="function")throw new Error(n+"contains a function "+Qe(i)+" with contents = "+e.toString());if(xr(e))throw new Error(n+"contains "+e.toString()+" "+Qe(i));if(typeof e=="string"&&e.length>Qn/3&&Tn(e)>Qn)throw new Error(n+"contains a string greater than "+Qn+" utf8 bytes "+Qe(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if(ke(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!Eo(o)))throw new Error(n+" contains an invalid key ("+o+") "+Qe(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);pc(i,o),$i(n,a,i),mc(i)}),s&&r)throw new Error(n+' contains ".value" child '+Qe(i)+" in addition to actual children.")}},Io=function(n,e,t,i){if(!(i&&t===void 0)&&!No(t))throw new Error(wi(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Qu=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Io(n,e,t,i)},To=function(n,e){if(V(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},Ju=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Eo(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!Yu(t))throw new Error(wi(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class Zu{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function So(n,e){let t=null;for(let i=0;i<e.length;i++){const s=e[i],r=s.getPath();t!==null&&!Xr(r,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:r}),t.events.push(s)}t&&n.eventLists_.push(t)}function Ae(n,e,t){So(n,t),ed(n,i=>Te(i,e)||Te(e,i))}function ed(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const s=n.eventLists_[i];if(s){const r=s.path;e(r)?(td(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function td(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const i=t.getEventRunner();nt&&me("event: "+t.toString()),xt(i)}}}const nd="repo_interrupt",id=25;class sd{constructor(e,t,i,s){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Zu,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=yn(),this.transactionQueueTree_=new qi,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function rd(n,e,t){if(n.stats_=Si(n.repoInfo_),n.forceRestClient_||zl())n.server_=new _n(n.repoInfo_,(i,s,r,o)=>{$s(n,i,s,r,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Qs(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{le(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Oe(n.repoInfo_,e,(i,s,r,o)=>{$s(n,i,s,r,o)},i=>{Qs(n,i)},i=>{ad(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=Vl(n.repoInfo_,()=>new Bc(n.stats_,n.server_)),n.infoData_=new Dc,n.infoSyncTree_=new qs({startListening:(i,s,r,o)=>{let a=[];const c=n.infoData_.getNode(i._path);return c.isEmpty()||(a=Qt(n.infoSyncTree_,i._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Ji(n,"connected",!1),n.serverSyncTree_=new qs({startListening:(i,s,r,o)=>(n.server_.listen(i,r,s,(a,c)=>{const l=o(a,c);Ae(n.eventQueue_,i._path,l)}),[]),stopListening:(i,s)=>{n.server_.unlisten(i,s)}})}function od(n){const t=n.infoData_.getNode(new J(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function Qi(n){return Uu({timestamp:od(n)})}function $s(n,e,t,i,s){n.dataUpdateCount++;const r=new J(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(s)if(i){const c=un(t,l=>he(l));o=Mu(n.serverSyncTree_,r,c,s)}else{const c=he(t);o=_o(n.serverSyncTree_,r,c,s)}else if(i){const c=un(t,l=>he(l));o=Ru(n.serverSyncTree_,r,c)}else{const c=he(t);o=Qt(n.serverSyncTree_,r,c)}let a=r;o.length>0&&(a=Dn(n,r)),Ae(n.eventQueue_,a,o)}function Qs(n,e){Ji(n,"connected",e),e===!1&&ud(n)}function ad(n,e){ke(e,(t,i)=>{Ji(n,t,i)})}function Ji(n,e,t){const i=new J("/.info/"+e),s=he(t);n.infoData_.updateSnapshot(i,s);const r=Qt(n.infoSyncTree_,i,s);Ae(n.eventQueue_,i,r)}function Ro(n){return n.nextWriteId_++}function ld(n,e,t){const i=Ou(n.serverSyncTree_,e);return i!=null?Promise.resolve(i):n.server_.get(e).then(s=>{const r=he(s).withIndex(e._queryParams.getIndex());Lu(n.serverSyncTree_,e,t,!0);let o;if(e._queryParams.loadsAllData())o=Qt(n.serverSyncTree_,e._path,r);else{const a=Xt(n.serverSyncTree_,e);o=_o(n.serverSyncTree_,e._path,r,a)}return Ae(n.eventQueue_,e._path,o),go(n.serverSyncTree_,e,t,null,!0),r},s=>(On(n,"get for query "+le(e)+" failed: "+s),Promise.reject(new Error(s))))}function cd(n,e,t,i,s){On(n,"set",{path:e.toString(),value:t,priority:i});const r=Qi(n),o=he(t,i),a=Bi(n.serverSyncTree_,e),c=bo(o,a,r),l=Ro(n),u=mo(n.serverSyncTree_,e,c,l,!0);So(n.eventQueue_,u),n.server_.put(e.toString(),o.val(!0),(g,p)=>{const f=g==="ok";f||we("set at "+e+" failed: "+g);const _=tt(n.serverSyncTree_,l,!f);Ae(n.eventQueue_,e,_),hd(n,s,g,p)});const d=Oo(n,e);Dn(n,d),Ae(n.eventQueue_,d,[])}function ud(n){On(n,"onDisconnectEvents");const e=Qi(n),t=yn();ci(n.onDisconnect_,q(),(s,r)=>{const o=Vu(s,r,n.serverSyncTree_,e);Jr(t,s,o)});let i=[];ci(t,q(),(s,r)=>{i=i.concat(Qt(n.serverSyncTree_,s,r));const o=Oo(n,s);Dn(n,o)}),n.onDisconnect_=yn(),Ae(n.eventQueue_,q(),i)}function dd(n){n.persistentConnection_&&n.persistentConnection_.interrupt(nd)}function On(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),me(t,...e)}function hd(n,e,t,i){e&&xt(()=>{if(t==="ok")e(null);else{const s=(t||"error").toUpperCase();let r=s;i&&(r+=": "+i);const o=new Error(r);o.code=s,e(o)}})}function Ao(n,e,t){return Bi(n.serverSyncTree_,e,t)||A.EMPTY_NODE}function Zi(n,e=n.transactionQueueTree_){if(e||Fn(n,e),bt(e)){const t=Mo(n,e);b(t.length>0,"Sending zero length transaction queue"),t.every(s=>s.status===0)&&fd(n,Zt(e),t)}else ko(e)&&Ln(e,t=>{Zi(n,t)})}function fd(n,e,t){const i=t.map(l=>l.currentWriteId),s=Ao(n,e,i);let r=s;const o=s.hash();for(let l=0;l<t.length;l++){const u=t[l];b(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=ve(e,u.path);r=r.updateChild(d,u.currentOutputSnapshotRaw)}const a=r.val(!0),c=e;n.server_.put(c.toString(),a,l=>{On(n,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){const d=[];for(let g=0;g<t.length;g++)t[g].status=2,u=u.concat(tt(n.serverSyncTree_,t[g].currentWriteId)),t[g].onComplete&&d.push(()=>t[g].onComplete(null,!0,t[g].currentOutputSnapshotResolved)),t[g].unwatcher();Fn(n,Yi(n.transactionQueueTree_,e)),Zi(n,n.transactionQueueTree_),Ae(n.eventQueue_,e,u);for(let g=0;g<d.length;g++)xt(d[g])}else{if(l==="datastale")for(let d=0;d<t.length;d++)t[d].status===3?t[d].status=4:t[d].status=0;else{we("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=l}Dn(n,e)}},o)}function Dn(n,e){const t=Po(n,e),i=Zt(t),s=Mo(n,t);return pd(n,s,i),i}function pd(n,e,t){if(e.length===0)return;const i=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],l=ve(t,c.path);let u=!1,d;if(b(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,s=s.concat(tt(n.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=id)u=!0,d="maxretry",s=s.concat(tt(n.serverSyncTree_,c.currentWriteId,!0));else{const g=Ao(n,c.path,o);c.currentInputSnapshot=g;const p=e[a].update(g.val());if(p!==void 0){$i("transaction failed: Data returned ",p,c.path);let f=he(p);typeof p=="object"&&p!=null&&ze(p,".priority")||(f=f.updatePriority(g.getPriority()));const v=c.currentWriteId,x=Qi(n),T=bo(f,g,x);c.currentOutputSnapshotRaw=f,c.currentOutputSnapshotResolved=T,c.currentWriteId=Ro(n),o.splice(o.indexOf(v),1),s=s.concat(mo(n.serverSyncTree_,c.path,T,c.currentWriteId,c.applyLocally)),s=s.concat(tt(n.serverSyncTree_,v,!0))}else u=!0,d="nodata",s=s.concat(tt(n.serverSyncTree_,c.currentWriteId,!0))}Ae(n.eventQueue_,t,s),s=[],u&&(e[a].status=2,function(g){setTimeout(g,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(d),!1,null))))}Fn(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)xt(i[a]);Zi(n,n.transactionQueueTree_)}function Po(n,e){let t,i=n.transactionQueueTree_;for(t=V(e);t!==null&&bt(i)===void 0;)i=Yi(i,t),e=Z(e),t=V(e);return i}function Mo(n,e){const t=[];return Lo(n,e,t),t.sort((i,s)=>i.order-s.order),t}function Lo(n,e,t){const i=bt(e);if(i)for(let s=0;s<i.length;s++)t.push(i[s]);Ln(e,s=>{Lo(n,s,t)})}function Fn(n,e){const t=bt(e);if(t){let i=0;for(let s=0;s<t.length;s++)t[s].status!==2&&(t[i]=t[s],i++);t.length=i,wo(e,t.length>0?t:void 0)}Ln(e,i=>{Fn(n,i)})}function Oo(n,e){const t=Zt(Po(n,e)),i=Yi(n.transactionQueueTree_,e);return Gu(i,s=>{Jn(n,s)}),Jn(n,i),Co(i,s=>{Jn(n,s)}),t}function Jn(n,e){const t=bt(e);if(t){const i=[];let s=[],r=-1;for(let o=0;o<t.length;o++)t[o].status===3||(t[o].status===1?(b(r===o-1,"All SENT items should be at beginning of queue."),r=o,t[o].status=3,t[o].abortReason="set"):(b(t[o].status===0,"Unexpected transaction status in abort"),t[o].unwatcher(),s=s.concat(tt(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&i.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?wo(e,void 0):t.length=r+1,Ae(n.eventQueue_,Zt(e),s);for(let o=0;o<i.length;o++)xt(i[o])}}function md(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let s=t[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function gd(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):we(`Invalid query segment '${t}' in query '${n}'`)}return e}const Js=function(n,e){const t=_d(n),i=t.namespace;t.domain==="firebase.com"&&Fe(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&Fe("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||Sl();const s=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new Pr(t.host,t.secure,i,s,e,"",i!==t.subdomain),path:new J(t.pathString)}},_d=function(n){let e="",t="",i="",s="",r="",o=!0,a="https",c=443;if(typeof n=="string"){let l=n.indexOf("//");l>=0&&(a=n.substring(0,l-1),n=n.substring(l+2));let u=n.indexOf("/");u===-1&&(u=n.length);let d=n.indexOf("?");d===-1&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(s=md(n.substring(u,d)));const g=gd(n.substring(Math.min(n.length,d)));l=e.indexOf(":"),l>=0?(o=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;const p=e.slice(0,l);if(p.toLowerCase()==="localhost")t="localhost";else if(p.split(".").length<=2)t=p;else{const f=e.indexOf(".");i=e.substring(0,f).toLowerCase(),t=e.substring(f+1),r=i}"ns"in g&&(r=g.ns)}return{host:e,port:c,domain:t,subdomain:i,secure:o,scheme:a,pathString:s,namespace:r}};class yd{constructor(e,t,i,s){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+le(this.snapshot.exportVal())}}class vd{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class xd{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return b(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class es{constructor(e,t,i,s){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=s}get key(){return H(this._path)?null:Br(this._path)}get ref(){return new We(this._repo,this._path)}get _queryIdentifier(){const e=Fs(this._queryParams),t=Ii(e);return t==="{}"?"default":t}get _queryObject(){return Fs(this._queryParams)}isEqual(e){if(e=Pe(e),!(e instanceof es))return!1;const t=this._repo===e._repo,i=Xr(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return t&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+hc(this._path)}}class We extends es{constructor(e,t){super(e,t,new Li,!1)}get parent(){const e=Vr(this._path);return e===null?null:new We(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Gt{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new J(e),i=Nn(this.ref,e);return new Gt(this._node.getChild(t),i,se)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new Gt(s,Nn(this.ref,i),se)))}hasChild(e){const t=new J(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Do(n,e){return n=Pe(n),n._checkNotDeleted("ref"),e!==void 0?Nn(n._root,e):n._root}function Nn(n,e){return n=Pe(n),V(n._path)===null?Qu("child","path",e,!1):Io("child","path",e,!1),new We(n._repo,ce(n._path,e))}function bd(n){return To("remove",n._path),wd(n,null)}function wd(n,e){n=Pe(n),To("set",n._path),$u("set",e,n._path,!1);const t=new ki;return cd(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function Fo(n){n=Pe(n);const e=new xd(()=>{}),t=new ts(e);return ld(n._repo,n,t).then(i=>new Gt(i,new We(n._repo,n._path),n._queryParams.getIndex()))}class ts{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const i=t._queryParams.getIndex();return new yd("value",this,new Gt(e.snapshotNode,new We(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new vd(this,e,t):null}matches(e){return e instanceof ts?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}wu(We);Iu(We);const kd="FIREBASE_DATABASE_EMULATOR_HOST",mi={};let Cd=!1;function Ed(n,e,t,i){n.repoInfo_=new Pr(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}function Nd(n,e,t,i,s){let r=i||n.options.databaseURL;r===void 0&&(n.options.projectId||Fe("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),me("Using default host for project ",n.options.projectId),r=`${n.options.projectId}-default-rtdb.firebaseio.com`);let o=Js(r,s),a=o.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[kd]),l?(c=!0,r=`http://${l}?ns=${a.namespace}`,o=Js(r,s),a=o.repoInfo):c=!o.repoInfo.secure;const u=s&&c?new ft(ft.OWNER):new Ul(n.name,n.options,e);Ju("Invalid Firebase Database URL",o),H(o.path)||Fe("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Td(a,n,u,new Wl(n.name,t));return new Sd(d,n)}function Id(n,e){const t=mi[e];(!t||t[n.key]!==n)&&Fe(`Database ${e}(${n.repoInfo_}) has already been deleted.`),dd(n),delete t[n.key]}function Td(n,e,t,i){let s=mi[e.name];s||(s={},mi[e.name]=s);let r=s[n.toURLString()];return r&&Fe("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new sd(n,Cd,t,i),s[n.toURLString()]=r,r}class Sd{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(rd(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new We(this._repo,q())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Id(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Fe("Cannot call "+e+" on a deleted database.")}}function Rd(n=ra(),e){const t=ia(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=sa("database");i&&Ad(t,...i)}return t}function Ad(n,e,t,i={}){n=Pe(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&Fe("Cannot call useEmulator() after instance has already been initialized.");const s=n._repoInternal;let r;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&Fe('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new ft(ft.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:oa(i.mockUserToken,n.app.options.projectId);r=new ft(o)}Ed(s,e,t,r)}function Pd(n){Cl(In),Zn(new ei("database",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return Nd(i,s,r,t)},"PUBLIC").setMultipleInstances(!0)),cn(xs,bs,n),cn(xs,bs,"esm2017")}Oe.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Oe.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};Pd();const zo=pa(),Wo=Rd();async function Md(){try{const n=Do(Wo,`users/${zo.user.uid}/list`),e=await Fo(n);return e!==null?Object.values(e.val()):[]}catch(n){throw n}}async function Ld(n){try{const e=Do(Wo,`users/${zo.user.uid}/list`),t=await Fo(e),i=[];t.forEach(s=>{if(s.child("_id").val()===n){const r=Nn(e,`${s.key}`),o=bd(r);i.push(o)}}),await Promise.all(i),us.Notify.success("Books were deleted."),console.log("Books were deleted")}catch(e){throw us.Notify.success("Error removing books!"),console.error("Error removing books:",e),e}}let Ot=[],Dt,gi,Od=window.matchMedia("(max-width: 767px)");const Dd=document.getElementById("pagination"),en=document.getElementById("booksContainer");async function Fd(){try{Ot=await Md(),Uo(),Vd()}catch(n){console.log(n),Wd()}}async function zd(n){n.preventDefault();const e=n.target;console.log("clickedElement: ",e);const t=e.dataset.bookId;console.log("bookId: ",t),t&&(await Ld(t),console.log("bookId: ",t),Ot=Ot.filter(i=>i._id!==t),Bo(Ot))}function Zs(){const n=Ud(Ot),e=Bd(n);Hd(e,n),Bo(n[0])}function Wd(){const n=`<div class="shopping_list-placeholder-container">
    <p class="shopping_list-placeholder-text">This page is empty, add some books and proceed to order.</p>
    <div class="shopping_list-placeholder-thumb">
    </div>
    </div>`;en.innerHTML=n}function Uo(){Od.matches?(Dt=4,gi=2,Zs()):(Dt=3,gi=3,Zs())}function Ud(n){const e=[],t=Math.ceil(n.length/Dt);for(let i=0;i<t;i++){const s=i*Dt,r=n.slice(s,s+Dt);e.push(r)}return e}function Bd(n){return{totalItems:n.length,itemsPerPage:1,visiblePages:gi,page:1,centerAlign:!0,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{ type }}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{ type }}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}}}function Hd(n,e){new _a(Dd,n).on("afterMove",function(i){const s=i.page-1,r=e[s];en.innerHTML="",Ho(r)})}function Bo(n){en.innerHTML="",Ho(n)}function Ho(n){const e=n.map(({_id:t,list_name:i,author:s,description:r,title:o,book_image:a,buy_links:c})=>`
 <li class="shoppinglist-item">
  <button 
          type="button"
          class="shoppinglist-delete-book-button">
                <svg data-book-id="${t}" class="shoppinglist-delete-book-button-svg" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
<path d="M6.75 2.25H11.25M2.25 4.5H15.75M14.25 4.5L13.724 12.3895C13.6451 13.5732 13.6057 14.165 13.35 14.6138C13.1249 15.0088 12.7854 15.3265 12.3762 15.5248C11.9115 15.75 11.3183 15.75 10.132 15.75H7.86799C6.68168 15.75 6.08852 15.75 5.62375 15.5248C5.21457 15.3265 4.87507 15.0088 4.64999 14.6138C4.39433 14.165 4.35488 13.5732 4.27596 12.3895L3.75 4.5M7.5 7.875V11.625M10.5 7.875V11.625" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</button>
      <div class="shoppinglist-thumb">
        <img src="${a}" alt="${o}" class="shoppinglist-img">
      </div> 
  <div class="shoppinglist-info-book">
      <h3 class="shoppinglist-name-book">${o}</h3>
      <p class="shoppinglist-book-category">${i}</p>
      <p class="shoppinglist-book-text">${r}</p>
        <div class="shoppinglist-author-link-wrap">
            <p class="shoppinglist-name-author">${s}</p>
                <div class="shoppinglist-link-wrap">
                  <a href="${c[0].url}" target="_blank" class="shoppinglist-book-link">
                  <svg class="shoppinglist-book-link-svg-cont-amazon" ">
                  <use class="shoppinglist-book-link-svg" href="../../img/shoppingList-sprite.svg#icon-Amazon"></use>
                </svg>
                  </a>
                  <a href="${c[1].url}" target="_blank" class="shoppinglist-book-link">
                    <svg class="shoppinglist-book-link-svg-cont" ">
                  <use class="shoppinglist-book-link-svg" href="../../img/shoppingList-sprite.svg#icon-apple-books"></use>
                </svg>
                </a>
                  <a href="${c[2].url}" target="_blank" class="shoppinglist-book-link">
                    <svg class="shoppinglist-book-link-svg-cont" ">
                  <use class="shoppinglist-book-link-svg" href="../../img/shoppingList-sprite.svg#icon-book-shop"></use>
                </svg>
                </a>
                </div>
           </div>
        </div>
      </li>`).join("");en.insertAdjacentHTML("beforeend",e)}function Vd(){const{height:n}=document.querySelector(".shoppinglist-list").firstElementChild.getBoundingClientRect();window.scrollBy({top:n*2,behavior:"smooth"})}window.addEventListener("resize",Oa(Uo,200));Fd();en.addEventListener("click",function(n){n.target.classList.contains("shoppinglist-delete-book-button-svg")&&zd(n)});
